
--[[
Fixed By Sypse, Sys/Chris 1/27/2022
Ok, first things first. 
This is skidded from kraken, in mid 2021


deobfuscated & decompiled with allah's power
yes the script crashes on execute 70% of the time but that isnt my problem: fuck u 
We're releasing this because, snowy/unfair said HE made it (heavily skidded from kraken hub)

to unfair: lol get gud kid
suck my dick ~ Chris
fuck you for the things you did in the past ;).
]]

if not game:IsLoaded() then -- Main shit 
game.Loaded:Wait()
end
for i, v in pairs(game.CoreGui:GetChildren()) do
	if v.Name == "Snowy Hub" then
		v:Destroy()
	end
end
local ReplyMap = {
	["https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/snowyhublib.lua"] = syn.crypt.base64.decode('ICAgIC0tIGluaXQKbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIG1vdXNlID0gcGxheWVyOkdldE1vdXNlKCkKCi0tIHNlcnZpY2VzCmxvY2FsIGlucHV0ID0gZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikKbG9jYWwgcnVuID0gZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikKbG9jYWwgdHdlZW4gPSBnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpCmxvY2FsIHR3ZWVuaW5mbyA9IFR3ZWVuSW5mby5uZXcKCi0tIGFkZGl0aW9uYWwKbG9jYWwgdXRpbGl0eSA9IHt9CgotLSB0aGVtZXMKbG9jYWwgb2JqZWN0cyA9IHt9CmxvY2FsIHRoZW1lcyA9IHsKCUJhY2tncm91bmQgPSBDb2xvcjMuZnJvbVJHQigyNCwgMjQsIDI0KSwgCglHbG93ID0gQ29sb3IzLmZyb21SR0IoMCwgMjEzLCAyNTUpLCAKCUFjY2VudCA9IENvbG9yMy5mcm9tUkdCKDEwLCAxMCwgMTApLCAKCUxpZ2h0Q29udHJhc3QgPSBDb2xvcjMuZnJvbVJHQigyMCwgMjAsIDIwKSwgCglEYXJrQ29udHJhc3QgPSBDb2xvcjMuZnJvbVJHQigxNCwgMTQsIDE0KSwgIAoJVGV4dENvbG9yID0gQ29sb3IzLmZyb21SR0IoOSwgMjE1LCAyNTUpCn0KCmRvCglmdW5jdGlvbiB1dGlsaXR5OkNyZWF0ZShpbnN0YW5jZSwgcHJvcGVydGllcywgY2hpbGRyZW4pCgkJbG9jYWwgb2JqZWN0ID0gSW5zdGFuY2UubmV3KGluc3RhbmNlKQoJCQoJCWZvciBpLCB2IGluIHBhaXJzKHByb3BlcnRpZXMgb3Ige30pIGRvCgkJCW9iamVjdFtpXSA9IHYKCQkJCgkJCWlmIHR5cGVvZih2KSA9PSAiQ29sb3IzIiB0aGVuIC0tIHNhdmUgZm9yIHRoZW1lIGNoYW5nZXIgbGF0ZXIKCQkJCWxvY2FsIHRoZW1lID0gdXRpbGl0eTpGaW5kKHRoZW1lcywgdikKCQkJCQoJCQkJaWYgdGhlbWUgdGhlbgoJCQkJCW9iamVjdHNbdGhlbWVdID0gb2JqZWN0c1t0aGVtZV0gb3Ige30KCQkJCQlvYmplY3RzW3RoZW1lXVtpXSA9IG9iamVjdHNbdGhlbWVdW2ldIG9yIHNldG1ldGF0YWJsZSh7fSwge19tb2RlID0gImsifSkKCQkJCQkKCQkJCQl0YWJsZS5pbnNlcnQob2JqZWN0c1t0aGVtZV1baV0sIG9iamVjdCkKCQkJCWVuZAoJCQllbmQKCQllbmQKCQkKCQlmb3IgaSwgbW9kdWxlIGluIHBhaXJzKGNoaWxkcmVuIG9yIHt9KSBkbwoJCQltb2R1bGUuUGFyZW50ID0gb2JqZWN0CgkJZW5kCgkJCgkJcmV0dXJuIG9iamVjdAoJZW5kCgkKCWZ1bmN0aW9uIHV0aWxpdHk6VHdlZW4oaW5zdGFuY2UsIHByb3BlcnRpZXMsIGR1cmF0aW9uLCAuLi4pCgkJdHdlZW46Q3JlYXRlKGluc3RhbmNlLCB0d2VlbmluZm8oZHVyYXRpb24sIC4uLiksIHByb3BlcnRpZXMpOlBsYXkoKQoJZW5kCgkKCWZ1bmN0aW9uIHV0aWxpdHk6V2FpdCgpCgkJcnVuLlJlbmRlclN0ZXBwZWQ6V2FpdCgpCgkJcmV0dXJuIHRydWUKCWVuZAoJCglmdW5jdGlvbiB1dGlsaXR5OkZpbmQodGFibGUsIHZhbHVlKSAtLSB0YWJsZS5maW5kIGRvZXNuJ3Qgd29yayBmb3IgZGljdGlvbmFyaWVzCgkJZm9yIGksIHYgaW4gIHBhaXJzKHRhYmxlKSBkbwoJCQlpZiB2ID09IHZhbHVlIHRoZW4KCQkJCXJldHVybiBpCgkJCWVuZAoJCWVuZAoJZW5kCgkKCWZ1bmN0aW9uIHV0aWxpdHk6U29ydChwYXR0ZXJuLCB2YWx1ZXMpCgkJbG9jYWwgbmV3ID0ge30KCQlwYXR0ZXJuID0gcGF0dGVybjpsb3dlcigpCgkJCgkJaWYgcGF0dGVybiA9PSAiIiB0aGVuCgkJCXJldHVybiB2YWx1ZXMKCQllbmQKCQkKCQlmb3IgaSwgdmFsdWUgaW4gcGFpcnModmFsdWVzKSBkbwoJCQlpZiB0b3N0cmluZyh2YWx1ZSk6bG93ZXIoKTpmaW5kKHBhdHRlcm4pIHRoZW4KCQkJCXRhYmxlLmluc2VydChuZXcsIHZhbHVlKQoJCQllbmQKCQllbmQKCQkKCQlyZXR1cm4gbmV3CgllbmQKCQoJZnVuY3Rpb24gdXRpbGl0eTpQb3Aob2JqZWN0LCBzaHJpbmspCgkJbG9jYWwgY2xvbmUgPSBvYmplY3Q6Q2xvbmUoKQoJCQoJCWNsb25lLkFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpCgkJY2xvbmUuU2l6ZSA9IGNsb25lLlNpemUgLSBVRGltMi5uZXcoMCwgc2hyaW5rLCAwLCBzaHJpbmspCgkJY2xvbmUuUG9zaXRpb24gPSBVRGltMi5uZXcoMC41LCAwLCAwLjUsIDApCgkJCgkJY2xvbmUuUGFyZW50ID0gb2JqZWN0CgkJY2xvbmU6Q2xlYXJBbGxDaGlsZHJlbigpCgkJCgkJb2JqZWN0LkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCXV0aWxpdHk6VHdlZW4oY2xvbmUsIHtTaXplID0gb2JqZWN0LlNpemV9LCAwLjIpCgkJCgkJc3Bhd24oZnVuY3Rpb24oKQoJCQl3YWl0KDAuMikKCQkKCQkJb2JqZWN0LkltYWdlVHJhbnNwYXJlbmN5ID0gMAoJCQljbG9uZTpEZXN0cm95KCkKCQllbmQpCgkJCgkJcmV0dXJuIGNsb25lCgllbmQKCQoJZnVuY3Rpb24gdXRpbGl0eTpJbml0aWFsaXplS2V5YmluZCgpCgkJc2VsZi5rZXliaW5kcyA9IHt9CgkJc2VsZi5lbmRlZCA9IHt9CgkJCgkJaW5wdXQuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGtleSkKCQkJaWYgc2VsZi5rZXliaW5kc1trZXkuS2V5Q29kZV0gdGhlbgoJCQkJZm9yIGksIGJpbmQgaW4gcGFpcnMoc2VsZi5rZXliaW5kc1trZXkuS2V5Q29kZV0pIGRvCgkJCQkJYmluZCgpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoJCQoJCWlucHV0LklucHV0RW5kZWQ6Q29ubmVjdChmdW5jdGlvbihrZXkpCgkJCWlmIGtleS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCQkJZm9yIGksIGNhbGxiYWNrIGluIHBhaXJzKHNlbGYuZW5kZWQpIGRvCgkJCQkJY2FsbGJhY2soKQoJCQkJZW5kCgkJCWVuZAoJCWVuZCkKCWVuZAoJCglmdW5jdGlvbiB1dGlsaXR5OkJpbmRUb0tleShrZXksIGNhbGxiYWNrKQoJCSAKCQlzZWxmLmtleWJpbmRzW2tleV0gPSBzZWxmLmtleWJpbmRzW2tleV0gb3Ige30KCQkKCQl0YWJsZS5pbnNlcnQoc2VsZi5rZXliaW5kc1trZXldLCBjYWxsYmFjaykKCQkKCQlyZXR1cm4gewoJCQlVbkJpbmQgPSBmdW5jdGlvbigpCgkJCQlmb3IgaSwgYmluZCBpbiBwYWlycyhzZWxmLmtleWJpbmRzW2tleV0pIGRvCgkJCQkJaWYgYmluZCA9PSBjYWxsYmFjayB0aGVuCgkJCQkJCXRhYmxlLnJlbW92ZShzZWxmLmtleWJpbmRzW2tleV0sIGkpCgkJCQkJZW5kCgkJCQllbmQKCQkJZW5kCgkJfQoJZW5kCgkKCWZ1bmN0aW9uIHV0aWxpdHk6S2V5UHJlc3NlZCgpIC0tIHlpZWxkIHVudGlsIG5leHQga2V5IGlzIHByZXNzZWQKCQlsb2NhbCBrZXkgPSBpbnB1dC5JbnB1dEJlZ2FuOldhaXQoKQoJCQoJCXdoaWxlIGtleS5Vc2VySW5wdXRUeXBlIH49IEVudW0uVXNlcklucHV0VHlwZS5LZXlib2FyZAkgZG8KCQkJa2V5ID0gaW5wdXQuSW5wdXRCZWdhbjpXYWl0KCkKCQllbmQKCQkKCQl3YWl0KCkgLS0gb3ZlcmxhcHBpbmcgY29ubmVjdGlvbgoJCQoJCXJldHVybiBrZXkKCWVuZAoJCglmdW5jdGlvbiB1dGlsaXR5OkRyYWdnaW5nRW5hYmxlZChmcmFtZSwgcGFyZW50KQoJCgkJcGFyZW50ID0gcGFyZW50IG9yIGZyYW1lCgkJCgkJLS0gc3RvbGVuIGZyb20gd2FsbHkgb3Iga2lyaW90LCBrZWsKCQlsb2NhbCBkcmFnZ2luZyA9IGZhbHNlCgkJbG9jYWwgZHJhZ0lucHV0LCBtb3VzZVBvcywgZnJhbWVQb3MKCgkJZnJhbWUuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQoJCQlpZiBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCQkJZHJhZ2dpbmcgPSB0cnVlCgkJCQltb3VzZVBvcyA9IGlucHV0LlBvc2l0aW9uCgkJCQlmcmFtZVBvcyA9IHBhcmVudC5Qb3NpdGlvbgoJCQkJCgkJCQlpbnB1dC5DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIGlucHV0LlVzZXJJbnB1dFN0YXRlID09IEVudW0uVXNlcklucHV0U3RhdGUuRW5kIHRoZW4KCQkJCQkJZHJhZ2dpbmcgPSBmYWxzZQoJCQkJCWVuZAoJCQkJZW5kKQoJCQllbmQKCQllbmQpCgoJCWZyYW1lLklucHV0Q2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGlucHV0KQoJCQlpZiBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IHRoZW4KCQkJCWRyYWdJbnB1dCA9IGlucHV0CgkJCWVuZAoJCWVuZCkKCgkJaW5wdXQuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCgkJCWlmIGlucHV0ID09IGRyYWdJbnB1dCBhbmQgZHJhZ2dpbmcgdGhlbgoJCQkJbG9jYWwgZGVsdGEgPSBpbnB1dC5Qb3NpdGlvbiAtIG1vdXNlUG9zCgkJCQlwYXJlbnQuUG9zaXRpb24gID0gVURpbTIubmV3KGZyYW1lUG9zLlguU2NhbGUsIGZyYW1lUG9zLlguT2Zmc2V0ICsgZGVsdGEuWCwgZnJhbWVQb3MuWS5TY2FsZSwgZnJhbWVQb3MuWS5PZmZzZXQgKyBkZWx0YS5ZKQoJCQllbmQKCQllbmQpCgoJZW5kCgkKCWZ1bmN0aW9uIHV0aWxpdHk6RHJhZ2dpbmdFbmRlZChjYWxsYmFjaykKCQl0YWJsZS5pbnNlcnQoc2VsZi5lbmRlZCwgY2FsbGJhY2spCgllbmQKCQplbmQKCi0tIGNsYXNzZXMKCmxvY2FsIGxpYnJhcnkgPSB7fSAtLSBtYWluCmxvY2FsIHBhZ2UgPSB7fQpsb2NhbCBzZWN0aW9uID0ge30KCmRvCglsaWJyYXJ5Ll9faW5kZXggPSBsaWJyYXJ5CglwYWdlLl9faW5kZXggPSBwYWdlCglzZWN0aW9uLl9faW5kZXggPSBzZWN0aW9uCgkKCS0tIG5ldyBjbGFzc2VzCgkKCWZ1bmN0aW9uIGxpYnJhcnkubmV3KHRpdGxlKQoJCWxvY2FsIGNvbnRhaW5lciA9IHV0aWxpdHk6Q3JlYXRlKCJTY3JlZW5HdWkiLCB7CgkJCU5hbWUgPSB0aXRsZSwKCQkJUGFyZW50ID0gZ2FtZS5Db3JlR3VpCgkJfSwgewoJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCU5hbWUgPSAiTWFpbiIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAuMjUsIDAsIDAuMDUyNDM1NTkzLCAwKSwKCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgNTExLCAwLCA0MjgpLAoJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzQ2NDExNDk1NTQiLAoJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuQmFja2dyb3VuZCwKCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldyg0LCA0LCAyOTYsIDI5NikKCQkJfSwgewoJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQkJTmFtZSA9ICJHbG93IiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAtMTUsIDAsIC0xNSksCgkJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAzMCwgMSwgMzApLAoJCQkJCVpJbmRleCA9IDAsCgkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTcwODQiLAoJCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkdsb3csCgkJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyNCwgMjQsIDI3NiwgMjc2KQoJCQkJfSksCgkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCQlOYW1lID0gIlBhZ2VzIiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlDbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZSwKCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAzOCksCgkJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxMjYsIDEsIC0zOCksCgkJCQkJWkluZGV4ID0gMywKCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAxMjUzNDI3MyIsCgkJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0LAoJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoNCwgNCwgMjk2LCAyOTYpCgkJCQl9LCB7CgkJCQkJdXRpbGl0eTpDcmVhdGUoIlNjcm9sbGluZ0ZyYW1lIiwgewoJCQkJCQlOYW1lID0gIlBhZ2VzX0NvbnRhaW5lciIsCgkJCQkJCUFjdGl2ZSA9IHRydWUsCgkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAxMCksCgkJCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgLTIwKSwKCQkJCQkJQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAzMTQpLAoJCQkJCQlTY3JvbGxCYXJUaGlja25lc3MgPSAwCgkJCQkJfSwgewoJCQkJCQl1dGlsaXR5OkNyZWF0ZSgiVUlMaXN0TGF5b3V0IiwgewoJCQkJCQkJU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIsCgkJCQkJCQlQYWRkaW5nID0gVURpbS5uZXcoMCwgMTApCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0pLAoJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQkJTmFtZSA9ICJUb3BCYXIiLAoJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCUNsaXBzRGVzY2VuZGFudHMgPSB0cnVlLAoJCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMzgpLAoJCQkJCVpJbmRleCA9IDUsCgkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzQ1OTUyODY5MzMiLAoJCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkFjY2VudCwKCQkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDQsIDQsIDI5NiwgMjk2KQoJCQkJfSwgewoJCQkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7IC0tIHRpdGxlCgkJCQkJCU5hbWUgPSAiVGl0bGUiLAoJCQkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSksCgkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMiwgMCwgMTkpLAoJCQkJCQlTaXplID0gVURpbTIubmV3KDEsIC00NiwgMCwgMTYpLAoJCQkJCQlaSW5kZXggPSA1LAoJCQkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbUJvbGQsCgkJCQkJCVRleHQgPSB0aXRsZSwKCQkJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJCVRleHRTaXplID0gMTQsCgkJCQkJCVRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJCQkJfSkKCQkJCX0pCgkJCX0pCgkJfSkKCQkKCQl1dGlsaXR5OkluaXRpYWxpemVLZXliaW5kKCkKCQl1dGlsaXR5OkRyYWdnaW5nRW5hYmxlZChjb250YWluZXIuTWFpbi5Ub3BCYXIsIGNvbnRhaW5lci5NYWluKQoJCQoJCXJldHVybiBzZXRtZXRhdGFibGUoewoJCQljb250YWluZXIgPSBjb250YWluZXIsCgkJCXBhZ2VzQ29udGFpbmVyID0gY29udGFpbmVyLk1haW4uUGFnZXMuUGFnZXNfQ29udGFpbmVyLAoJCQlwYWdlcyA9IHt9CgkJfSwgbGlicmFyeSkKCWVuZAoJCglmdW5jdGlvbiBwYWdlLm5ldyhsaWJyYXJ5LCB0aXRsZSwgaWNvbikKCQlsb2NhbCBidXR0b24gPSB1dGlsaXR5OkNyZWF0ZSgiVGV4dEJ1dHRvbiIsIHsKCQkJTmFtZSA9IHRpdGxlLAoJCQlQYXJlbnQgPSBsaWJyYXJ5LnBhZ2VzQ29udGFpbmVyLAoJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJQm9yZGVyU2l6ZVBpeGVsID0gMCwKCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAyNiksCgkJCVpJbmRleCA9IDMsCgkJCUF1dG9CdXR0b25Db2xvciA9IGZhbHNlLAoJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbSwKCQkJVGV4dCA9ICIiLAoJCQlUZXh0U2l6ZSA9IDE0CgkJfSwgewoJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJTmFtZSA9ICJUaXRsZSIsCgkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSksCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDQwLCAwLjUsIDApLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCA3NiwgMSwgMCksCgkJCQlaSW5kZXggPSAzLAoJCQkJRm9udCA9IEVudW0uRm9udC5Hb3RoYW0sCgkJCQlUZXh0ID0gdGl0bGUsCgkJCQlUZXh0Q29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCVRleHRTaXplID0gMTIsCgkJCQlUZXh0VHJhbnNwYXJlbmN5ID0gMC42NSwKCQkJCVRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJCX0pLAoJCQlpY29uIGFuZCB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCU5hbWUgPSAiSWNvbiIsIAoJCQkJQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLCAwLjUpLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMiwgMC41LCAwKSwKCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgMTYsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDMsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vIiAuLiB0b3N0cmluZyhpY29uKSwKCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCUltYWdlVHJhbnNwYXJlbmN5ID0gMC42NCwKCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLkZpdAoJCQl9KSBvciB7fQoJCX0pCgkJCgkJbG9jYWwgY29udGFpbmVyID0gdXRpbGl0eTpDcmVhdGUoIlNjcm9sbGluZ0ZyYW1lIiwgewoJCQlOYW1lID0gdGl0bGUsCgkJCVBhcmVudCA9IGxpYnJhcnkuY29udGFpbmVyLk1haW4sCgkJCUFjdGl2ZSA9IHRydWUsCgkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMzQsIDAsIDQ2KSwKCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTQyLCAxLCAtNTYpLAoJCQlDYW52YXNTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDQ2NiksCgkJCVNjcm9sbEJhclRoaWNrbmVzcyA9IDMsCgkJCVNjcm9sbEJhckltYWdlQ29sb3IzID0gdGhlbWVzLkRhcmtDb250cmFzdCwKCQkJVmlzaWJsZSA9IGZhbHNlCgkJfSwgewoJCQl1dGlsaXR5OkNyZWF0ZSgiVUlMaXN0TGF5b3V0IiwgewoJCQkJU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIsCgkJCQlQYWRkaW5nID0gVURpbS5uZXcoMCwgMTApCgkJCX0pCgkJfSkKCQkKCQlyZXR1cm4gc2V0bWV0YXRhYmxlKHsKCQkJbGlicmFyeSA9IGxpYnJhcnksCgkJCWNvbnRhaW5lciA9IGNvbnRhaW5lciwKCQkJYnV0dG9uID0gYnV0dG9uLAoJCQlzZWN0aW9ucyA9IHt9CgkJfSwgcGFnZSkKCWVuZAoJCglmdW5jdGlvbiBzZWN0aW9uLm5ldyhwYWdlLCB0aXRsZSkKCQlsb2NhbCBjb250YWluZXIgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJTmFtZSA9IHRpdGxlLAoJCQlQYXJlbnQgPSBwYWdlLmNvbnRhaW5lciwKCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCVNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLCAyOCksCgkJCVpJbmRleCA9IDIsCgkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuTGlnaHRDb250cmFzdCwKCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoNCwgNCwgMjk2LCAyOTYpLAoJCQlDbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQoJCX0sIHsKCQkJdXRpbGl0eTpDcmVhdGUoIkZyYW1lIiwgewoJCQkJTmFtZSA9ICJDb250YWluZXIiLAoJCQkJQWN0aXZlID0gdHJ1ZSwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJQm9yZGVyU2l6ZVBpeGVsID0gMCwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDgsIDAsIDgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTYsIDEsIC0xNikKCQkJfSwgewoJCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCQlOYW1lID0gIlRpdGxlIiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDIwKSwKCQkJCQlaSW5kZXggPSAyLAoJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQsCgkJCQkJVGV4dCA9IHRpdGxlLAoJCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCVRleHRTaXplID0gMTIsCgkJCQkJVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQsCgkJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDEKCQkJCX0pLAoJCQkJdXRpbGl0eTpDcmVhdGUoIlVJTGlzdExheW91dCIsIHsKCQkJCQlTb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlciwKCQkJCQlQYWRkaW5nID0gVURpbS5uZXcoMCwgNCkKCQkJCX0pCgkJCX0pCgkJfSkKCQkKCQlyZXR1cm4gc2V0bWV0YXRhYmxlKHsKCQkJcGFnZSA9IHBhZ2UsCgkJCWNvbnRhaW5lciA9IGNvbnRhaW5lci5Db250YWluZXIsCgkJCWNvbG9ycGlja2VycyA9IHt9LAoJCQltb2R1bGVzID0ge30sCgkJCWJpbmRzID0ge30sCgkJCWxpc3RzID0ge30sCgkJfSwgc2VjdGlvbikgCgllbmQKCQoJZnVuY3Rpb24gbGlicmFyeTphZGRQYWdlKC4uLikKCQoJCWxvY2FsIHBhZ2UgPSBwYWdlLm5ldyhzZWxmLCAuLi4pCgkJbG9jYWwgYnV0dG9uID0gcGFnZS5idXR0b24KCQkKCQl0YWJsZS5pbnNlcnQoc2VsZi5wYWdlcywgcGFnZSkKCgkJYnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlzZWxmOlNlbGVjdFBhZ2UocGFnZSwgdHJ1ZSkKCQllbmQpCgkJCgkJcmV0dXJuIHBhZ2UKCWVuZAoJCglmdW5jdGlvbiBwYWdlOmFkZFNlY3Rpb24oLi4uKQoJCWxvY2FsIHNlY3Rpb24gPSBzZWN0aW9uLm5ldyhzZWxmLCAuLi4pCgkJCgkJdGFibGUuaW5zZXJ0KHNlbGYuc2VjdGlvbnMsIHNlY3Rpb24pCgkJCgkJcmV0dXJuIHNlY3Rpb24KCWVuZAoJCgktLSBmdW5jdGlvbnMKCQoJZnVuY3Rpb24gbGlicmFyeTpzZXRUaGVtZSh0aGVtZSwgY29sb3IzKQoJCXRoZW1lc1t0aGVtZV0gPSBjb2xvcjMKCQkKCQlmb3IgcHJvcGVydHksIG9iamVjdHMgaW4gcGFpcnMob2JqZWN0c1t0aGVtZV0pIGRvCgkJCWZvciBpLCBvYmplY3QgaW4gcGFpcnMob2JqZWN0cykgZG8KCQkJCWlmIG5vdCBvYmplY3QuUGFyZW50IG9yIChvYmplY3QuTmFtZSA9PSAiQnV0dG9uIiBhbmQgb2JqZWN0LlBhcmVudC5OYW1lID09ICJDb2xvclBpY2tlciIpIHRoZW4KCQkJCQlvYmplY3RzW2ldID0gbmlsIC0tIGkgY2FuIGRvIHRoaXMgYmVjYXVzZSB3ZWFrIHRhYmxlcyA6RAoJCQkJZWxzZQoJCQkJCW9iamVjdFtwcm9wZXJ0eV0gPSBjb2xvcjMKCQkJCWVuZAoJCQllbmQKCQllbmQKCWVuZAoJCglmdW5jdGlvbiBsaWJyYXJ5OnRvZ2dsZSgpCgkKCQlpZiBzZWxmLnRvZ2dsaW5nIHRoZW4KCQkJcmV0dXJuCgkJZW5kCgkJCgkJc2VsZi50b2dnbGluZyA9IHRydWUKCQkKCQlsb2NhbCBjb250YWluZXIgPSBzZWxmLmNvbnRhaW5lci5NYWluCgkJbG9jYWwgdG9wYmFyID0gY29udGFpbmVyLlRvcEJhcgoJCQoJCWlmIHNlbGYucG9zaXRpb24gdGhlbgoJCQl1dGlsaXR5OlR3ZWVuKGNvbnRhaW5lciwgewoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCA1MTEsIDAsIDQyOCksCgkJCQlQb3NpdGlvbiA9IHNlbGYucG9zaXRpb24KCQkJfSwgMC4yKQoJCQl3YWl0KDAuMikKCQkJCgkJCXV0aWxpdHk6VHdlZW4odG9wYmFyLCB7U2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAzOCl9LCAwLjIpCgkJCXdhaXQoMC4yKQoJCQkKCQkJY29udGFpbmVyLkNsaXBzRGVzY2VuZGFudHMgPSBmYWxzZQoJCQlzZWxmLnBvc2l0aW9uID0gbmlsCgkJZWxzZQoJCQlzZWxmLnBvc2l0aW9uID0gY29udGFpbmVyLlBvc2l0aW9uCgkJCWNvbnRhaW5lci5DbGlwc0Rlc2NlbmRhbnRzID0gdHJ1ZQoJCQkKCQkJdXRpbGl0eTpUd2Vlbih0b3BiYXIsIHtTaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApfSwgMC4yKQoJCQl3YWl0KDAuMikKCQkJCgkJCXV0aWxpdHk6VHdlZW4oY29udGFpbmVyLCB7CgkJCQlTaXplID0gVURpbTIubmV3KDAsIDUxMSwgMCwgMCksCgkJCQlQb3NpdGlvbiA9IHNlbGYucG9zaXRpb24gKyBVRGltMi5uZXcoMCwgMCwgMCwgNDI4KQoJCQl9LCAwLjIpCgkJCXdhaXQoMC4yKQoJCWVuZAoJCQoJCXNlbGYudG9nZ2xpbmcgPSBmYWxzZQoJZW5kCgkKCS0tIG5ldyBtb2R1bGVzCgkKCWZ1bmN0aW9uIGxpYnJhcnk6Tm90aWZ5KHRpdGxlLCB0ZXh0LCBjYWxsYmFjaykKCQoJCS0tIG92ZXJ3cml0ZSBsYXN0IG5vdGlmaWNhdGlvbgoJCWlmIHNlbGYuYWN0aXZlTm90aWZpY2F0aW9uIHRoZW4KCQkJc2VsZi5hY3RpdmVOb3RpZmljYXRpb24gPSBzZWxmLmFjdGl2ZU5vdGlmaWNhdGlvbigpCgkJZW5kCgkJCgkJLS0gc3RhbmRhcmQgY3JlYXRlCgkJbG9jYWwgbm90aWZpY2F0aW9uID0gdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCU5hbWUgPSAiTm90aWZpY2F0aW9uIiwKCQkJUGFyZW50ID0gc2VsZi5jb250YWluZXIsCgkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQlTaXplID0gVURpbTIubmV3KDAsIDIwMCwgMCwgNjApLAoJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkJhY2tncm91bmQsCgkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDQsIDQsIDI5NiwgMjk2KSwKCQkJWkluZGV4ID0gMywKCQkJQ2xpcHNEZXNjZW5kYW50cyA9IHRydWUKCQl9LCB7CgkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJTmFtZSA9ICJGbGFzaCIsCgkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNDY0MTE0OTU1NCIsCgkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlaSW5kZXggPSA1CgkJCX0pLAoJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCU5hbWUgPSAiR2xvdyIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIC0xNSwgMCwgLTE1KSwKCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgMzAsIDEsIDMwKSwKCQkJCVpJbmRleCA9IDIsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzA4NCIsCgkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5HbG93LAoJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDI0LCAyNCwgMjc2LCAyNzYpCgkJCX0pLAoJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJTmFtZSA9ICJUaXRsZSIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLCA4KSwKCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgLTQwLCAwLCAxNiksCgkJCQlaSW5kZXggPSA0LAoJCQkJRm9udCA9IEVudW0uRm9udC5Hb3RoYW1TZW1pYm9sZCwKCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJVGV4dFNpemUgPSAxNC4wMDAsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCU5hbWUgPSAiVGV4dCIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAxLCAtMjQpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtNDAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDQsCgkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbSwKCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJVGV4dFNpemUgPSAxMi4wMDAsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlQnV0dG9uIiwgewoJCQkJTmFtZSA9ICJBY2NlcHQiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMjYsIDAsIDgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxNiwgMCwgMTYpLAoJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMTI1MzgyNTkiLAoJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJWkluZGV4ID0gNAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlQnV0dG9uIiwgewoJCQkJTmFtZSA9ICJEZWNsaW5lIiwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTI2LCAxLCAtMjQpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxNiwgMCwgMTYpLAoJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMTI1Mzg1ODMiLAoJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJWkluZGV4ID0gNAoJCQl9KQoJCX0pCgkJCgkJLS0gZHJhZ2dpbmcKCQl1dGlsaXR5OkRyYWdnaW5nRW5hYmxlZChub3RpZmljYXRpb24pCgkJCgkJLS0gcG9zaXRpb24gYW5kIHNpemUKCQl0aXRsZSA9IHRpdGxlIG9yICJOb3RpZmljYXRpb24iCgkJdGV4dCA9IHRleHQgb3IgIiIKCQkKCQlub3RpZmljYXRpb24uVGl0bGUuVGV4dCA9IHRpdGxlCgkJbm90aWZpY2F0aW9uLlRleHQuVGV4dCA9IHRleHQKCQkKCQlsb2NhbCBwYWRkaW5nID0gMTAKCQlsb2NhbCB0ZXh0U2l6ZSA9IGdhbWU6R2V0U2VydmljZSgiVGV4dFNlcnZpY2UiKTpHZXRUZXh0U2l6ZSh0ZXh0LCAxMiwgRW51bS5Gb250LkdvdGhhbSwgVmVjdG9yMi5uZXcobWF0aC5odWdlLCAxNikpCgkJCgkJbm90aWZpY2F0aW9uLlBvc2l0aW9uID0gbGlicmFyeS5sYXN0Tm90aWZpY2F0aW9uIG9yIFVEaW0yLm5ldygwLCBwYWRkaW5nLCAxLCAtKG5vdGlmaWNhdGlvbi5BYnNvbHV0ZVNpemUuWSArIHBhZGRpbmcpKQoJCW5vdGlmaWNhdGlvbi5TaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDYwKQoJCQoJCXV0aWxpdHk6VHdlZW4obm90aWZpY2F0aW9uLCB7U2l6ZSA9IFVEaW0yLm5ldygwLCB0ZXh0U2l6ZS5YICsgNzAsIDAsIDYwKX0sIDAuMikKCQl3YWl0KDAuMikKCQkKCQlub3RpZmljYXRpb24uQ2xpcHNEZXNjZW5kYW50cyA9IGZhbHNlCgkJdXRpbGl0eTpUd2Vlbihub3RpZmljYXRpb24uRmxhc2gsIHsKCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCA2MCksCgkJCVBvc2l0aW9uID0gVURpbTIubmV3KDEsIDAsIDAsIDApCgkJfSwgMC4yKQoJCQoJCS0tIGNhbGxiYWNrcwoJCWxvY2FsIGFjdGl2ZSA9IHRydWUKCQlsb2NhbCBjbG9zZSA9IGZ1bmN0aW9uKCkKCQkKCQkJaWYgbm90IGFjdGl2ZSB0aGVuCgkJCQlyZXR1cm4KCQkJZW5kCgkJCQoJCQlhY3RpdmUgPSBmYWxzZQoJCQlub3RpZmljYXRpb24uQ2xpcHNEZXNjZW5kYW50cyA9IHRydWUKCQkJCgkJCWxpYnJhcnkubGFzdE5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbi5Qb3NpdGlvbgoJCQlub3RpZmljYXRpb24uRmxhc2guUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJdXRpbGl0eTpUd2Vlbihub3RpZmljYXRpb24uRmxhc2gsIHtTaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApfSwgMC4yKQoJCQkKCQkJd2FpdCgwLjIpCgkJCXV0aWxpdHk6VHdlZW4obm90aWZpY2F0aW9uLCB7CgkJCQlTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDYwKSwKCQkJCVBvc2l0aW9uID0gbm90aWZpY2F0aW9uLlBvc2l0aW9uICsgVURpbTIubmV3KDAsIHRleHRTaXplLlggKyA3MCwgMCwgMCkKCQkJfSwgMC4yKQoJCQkKCQkJd2FpdCgwLjIpCgkJCW5vdGlmaWNhdGlvbjpEZXN0cm95KCkKCQllbmQKCQkKCQlzZWxmLmFjdGl2ZU5vdGlmaWNhdGlvbiA9IGNsb3NlCgkJCgkJbm90aWZpY2F0aW9uLkFjY2VwdC5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKCQkKCQkJaWYgbm90IGFjdGl2ZSB0aGVuIAoJCQkJcmV0dXJuCgkJCWVuZAoJCQkKCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJY2FsbGJhY2sodHJ1ZSkKCQkJZW5kCgkJCQoJCQljbG9zZSgpCgkJZW5kKQoJCQoJCW5vdGlmaWNhdGlvbi5EZWNsaW5lLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQoJCQlpZiBub3QgYWN0aXZlIHRoZW4gCgkJCQlyZXR1cm4KCQkJZW5kCgkJCQoJCQlpZiBjYWxsYmFjayB0aGVuCgkJCQljYWxsYmFjayhmYWxzZSkKCQkJZW5kCgkJCQoJCQljbG9zZSgpCgkJZW5kKQoJZW5kCgkKCWZ1bmN0aW9uIHNlY3Rpb246YWRkQnV0dG9uKHRpdGxlLCBjYWxsYmFjaykKCQlsb2NhbCBidXR0b24gPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCU5hbWUgPSAiQnV0dG9uIiwKCQkJUGFyZW50ID0gc2VsZi5jb250YWluZXIsCgkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDMwKSwKCQkJWkluZGV4ID0gMiwKCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5EYXJrQ29udHJhc3QsCgkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCX0sIHsKCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCU5hbWUgPSAiVGl0bGUiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApLAoJCQkJWkluZGV4ID0gMywKCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDAuMTAwMDAwMDAxNDkwMTIKCQkJfSkKCQl9KQoJCQoJCXRhYmxlLmluc2VydChzZWxmLm1vZHVsZXMsIGJ1dHRvbikKCQktLXNlbGY6UmVzaXplKCkKCQkKCQlsb2NhbCB0ZXh0ID0gYnV0dG9uLlRpdGxlCgkJbG9jYWwgZGVib3VuY2UKCQkKCQlidXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJCQoJCQlpZiBkZWJvdW5jZSB0aGVuCgkJCQlyZXR1cm4KCQkJZW5kCgkJCQoJCQktLSBhbmltYXRpb24KCQkJdXRpbGl0eTpQb3AoYnV0dG9uLCAxMCkKCQkJCgkJCWRlYm91bmNlID0gdHJ1ZQoJCQl0ZXh0LlRleHRTaXplID0gMAoJCQl1dGlsaXR5OlR3ZWVuKGJ1dHRvbi5UaXRsZSwge1RleHRTaXplID0gMTR9LCAwLjIpCgkJCQoJCQl3YWl0KDAuMikKCQkJdXRpbGl0eTpUd2VlbihidXR0b24uVGl0bGUsIHtUZXh0U2l6ZSA9IDEyfSwgMC4yKQoJCQkKCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJY2FsbGJhY2soZnVuY3Rpb24oLi4uKQoJCQkJCXNlbGY6dXBkYXRlQnV0dG9uKGJ1dHRvbiwgLi4uKQoJCQkJZW5kKQoJCQllbmQKCQkJCgkJCWRlYm91bmNlID0gZmFsc2UKCQllbmQpCgkJCgkJcmV0dXJuIGJ1dHRvbgoJZW5kCgkKCWZ1bmN0aW9uIHNlY3Rpb246YWRkVG9nZ2xlKHRpdGxlLCBkZWZhdWx0LCBjYWxsYmFjaykKCQlsb2NhbCB0b2dnbGUgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCU5hbWUgPSAiVG9nZ2xlIiwKCQkJUGFyZW50ID0gc2VsZi5jb250YWluZXIsCgkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDMwKSwKCQkJWkluZGV4ID0gMiwKCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5EYXJrQ29udHJhc3QsCgkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCX0sewoJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJTmFtZSA9ICJUaXRsZSIsCgkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSksCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLjUsIDEpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLjUsIDAsIDEsIDApLAoJCQkJWkluZGV4ID0gMywKCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDAuMTAwMDAwMDAxNDkwMTIsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQlOYW1lID0gIkJ1dHRvbiIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtNTAsIDAuNSwgLTgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCA0MCwgMCwgMTYpLAoJCQkJWkluZGV4ID0gMiwKCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkxpZ2h0Q29udHJhc3QsCgkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCX0sIHsKCQkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJCU5hbWUgPSAiRnJhbWUiLAoJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDIsIDAuNSwgLTYpLAoJCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgLTIyLCAxLCAtNCksCgkJCQkJWkluZGV4ID0gMiwKCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCQl9KQoJCQl9KQoJCX0pCgkJCgkJdGFibGUuaW5zZXJ0KHNlbGYubW9kdWxlcywgdG9nZ2xlKQoJCS0tc2VsZjpSZXNpemUoKQoJCQoJCWxvY2FsIGFjdGl2ZSA9IGRlZmF1bHQKCQlzZWxmOnVwZGF0ZVRvZ2dsZSh0b2dnbGUsIG5pbCwgYWN0aXZlKQoJCQoJCXRvZ2dsZS5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJYWN0aXZlID0gbm90IGFjdGl2ZQoJCQlzZWxmOnVwZGF0ZVRvZ2dsZSh0b2dnbGUsIG5pbCwgYWN0aXZlKQoJCQkKCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJY2FsbGJhY2soYWN0aXZlLCBmdW5jdGlvbiguLi4pCgkJCQkJc2VsZjp1cGRhdGVUb2dnbGUodG9nZ2xlLCAuLi4pCgkJCQllbmQpCgkJCWVuZAoJCWVuZCkKCQkKCQlyZXR1cm4gdG9nZ2xlCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjphZGRUZXh0Ym94KHRpdGxlLCBkZWZhdWx0LCBjYWxsYmFjaykKCQlsb2NhbCB0ZXh0Ym94ID0gdXRpbGl0eTpDcmVhdGUoIkltYWdlQnV0dG9uIiwgewoJCQlOYW1lID0gIlRleHRib3giLAoJCQlQYXJlbnQgPSBzZWxmLmNvbnRhaW5lciwKCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCVNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMzApLAoJCQlaSW5kZXggPSAyLAoJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkRhcmtDb250cmFzdCwKCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJfSwgewoJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJTmFtZSA9ICJUaXRsZSIsCgkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSksCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDEwLCAwLjUsIDEpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLjUsIDAsIDEsIDApLAoJCQkJWkluZGV4ID0gMywKCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDAuMTAwMDAwMDAxNDkwMTIsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQlOYW1lID0gIkJ1dHRvbiIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDEsIC0xMTAsIDAuNSwgLTgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDIsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5MaWdodENvbnRyYXN0LAoJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQl9LCB7CgkJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dEJveCIsIHsKCQkJCQlOYW1lID0gIlRleHRib3giLCAKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlUZXh0VHJ1bmNhdGUgPSBFbnVtLlRleHRUcnVuY2F0ZS5BdEVuZCwKCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCA1LCAwLCAwKSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIC0xMCwgMSwgMCksCgkJCQkJWkluZGV4ID0gMywKCQkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkLAoJCQkJCVRleHQgPSBkZWZhdWx0IG9yICIiLAoJCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCVRleHRTaXplID0gMTEKCQkJCX0pCgkJCX0pCgkJfSkKCQkKCQl0YWJsZS5pbnNlcnQoc2VsZi5tb2R1bGVzLCB0ZXh0Ym94KQoJCS0tc2VsZjpSZXNpemUoKQoJCQoJCWxvY2FsIGJ1dHRvbiA9IHRleHRib3guQnV0dG9uCgkJbG9jYWwgaW5wdXQgPSBidXR0b24uVGV4dGJveAoJCQoJCXRleHRib3guTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJCgkJCWlmIHRleHRib3guQnV0dG9uLlNpemUgfj0gVURpbTIubmV3KDAsIDEwMCwgMCwgMTYpIHRoZW4KCQkJCXJldHVybgoJCQllbmQKCQkJCgkJCXV0aWxpdHk6VHdlZW4odGV4dGJveC5CdXR0b24sIHsKCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgMjAwLCAwLCAxNiksCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMjEwLCAwLjUsIC04KQoJCQl9LCAwLjIpCgkJCQoJCQl3YWl0KCkKCgkJCWlucHV0LlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJCWlucHV0OkNhcHR1cmVGb2N1cygpCgkJZW5kKQoJCQoJCWlucHV0OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVGV4dCIpOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkKCQkJaWYgYnV0dG9uLkltYWdlVHJhbnNwYXJlbmN5ID09IDAgYW5kIChidXR0b24uU2l6ZSA9PSBVRGltMi5uZXcoMCwgMjAwLCAwLCAxNikgb3IgYnV0dG9uLlNpemUgPT0gVURpbTIubmV3KDAsIDEwMCwgMCwgMTYpKSB0aGVuIC0tIGkga25vdywgaSBkb250IGxpa2UgdGhpcyBlaXRoZXIKCQkJCXV0aWxpdHk6UG9wKGJ1dHRvbiwgMTApCgkJCWVuZAoJCQkKCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJY2FsbGJhY2soaW5wdXQuVGV4dCwgbmlsLCBmdW5jdGlvbiguLi4pCgkJCQkJc2VsZjp1cGRhdGVUZXh0Ym94KHRleHRib3gsIC4uLikKCQkJCWVuZCkKCQkJZW5kCgkJZW5kKQoJCQoJCWlucHV0LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCgkJCWlucHV0LlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5DZW50ZXIKCQkJCgkJCXV0aWxpdHk6VHdlZW4odGV4dGJveC5CdXR0b24sIHsKCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgMTAwLCAwLCAxNiksCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMTEwLCAwLjUsIC04KQoJCQl9LCAwLjIpCgkJCQoJCQlpZiBjYWxsYmFjayB0aGVuCgkJCQljYWxsYmFjayhpbnB1dC5UZXh0LCB0cnVlLCBmdW5jdGlvbiguLi4pCgkJCQkJc2VsZjp1cGRhdGVUZXh0Ym94KHRleHRib3gsIC4uLikKCQkJCWVuZCkKCQkJZW5kCgkJZW5kKQoJCQoJCXJldHVybiB0ZXh0Ym94CgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjphZGRLZXliaW5kKHRpdGxlLCBkZWZhdWx0LCBjYWxsYmFjaywgY2hhbmdlZENhbGxiYWNrKQoJCWxvY2FsIGtleWJpbmQgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCU5hbWUgPSAiS2V5YmluZCIsCgkJCVBhcmVudCA9IHNlbGYuY29udGFpbmVyLAoJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJQm9yZGVyU2l6ZVBpeGVsID0gMCwKCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAzMCksCgkJCVpJbmRleCA9IDIsCgkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0LAoJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyLCAyLCAyOTgsIDI5OCkKCQl9LCB7CgkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7CgkJCQlOYW1lID0gIlRpdGxlIiwKCQkJCUFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMC41KSwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAuNSwgMSksCgkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDEsIDApLAoJCQkJWkluZGV4ID0gMywKCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDAuMTAwMDAwMDAxNDkwMTIsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQlOYW1lID0gIkJ1dHRvbiIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDEsIC0xMTAsIDAuNSwgLTgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxMDAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDIsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5MaWdodENvbnRyYXN0LAoJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQl9LCB7CgkJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJCU5hbWUgPSAiVGV4dCIsCgkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJQ2xpcHNEZXNjZW5kYW50cyA9IHRydWUsCgkJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAwKSwKCQkJCQlaSW5kZXggPSAzLAoJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtU2VtaWJvbGQsCgkJCQkJVGV4dCA9IGRlZmF1bHQgYW5kIGRlZmF1bHQuTmFtZSBvciAiTm9uZSIsCgkJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJVGV4dFNpemUgPSAxMQoJCQkJfSkKCQkJfSkKCQl9KQoJCQoJCXRhYmxlLmluc2VydChzZWxmLm1vZHVsZXMsIGtleWJpbmQpCgkJLS1zZWxmOlJlc2l6ZSgpCgkJCgkJbG9jYWwgdGV4dCA9IGtleWJpbmQuQnV0dG9uLlRleHQKCQlsb2NhbCBidXR0b24gPSBrZXliaW5kLkJ1dHRvbgoJCQoJCWxvY2FsIGFuaW1hdGUgPSBmdW5jdGlvbigpCgkJCWlmIGJ1dHRvbi5JbWFnZVRyYW5zcGFyZW5jeSA9PSAwIHRoZW4KCQkJCXV0aWxpdHk6UG9wKGJ1dHRvbiwgMTApCgkJCWVuZAoJCWVuZAoJCQoJCXNlbGYuYmluZHNba2V5YmluZF0gPSB7Y2FsbGJhY2sgPSBmdW5jdGlvbigpCgkJCWFuaW1hdGUoKQoJCQkKCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJY2FsbGJhY2soZnVuY3Rpb24oLi4uKQoJCQkJCXNlbGY6dXBkYXRlS2V5YmluZChrZXliaW5kLCAuLi4pCgkJCQllbmQpCgkJCWVuZAoJCWVuZH0KCQkKCQlpZiBkZWZhdWx0IGFuZCBjYWxsYmFjayB0aGVuCgkJCXNlbGY6dXBkYXRlS2V5YmluZChrZXliaW5kLCBuaWwsIGRlZmF1bHQpCgkJZW5kCgkJCgkJa2V5YmluZC5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCgkJCWFuaW1hdGUoKQoJCQkKCQkJaWYgc2VsZi5iaW5kc1trZXliaW5kXS5jb25uZWN0aW9uIHRoZW4gLS0gdW5iaW5kCgkJCQlyZXR1cm4gc2VsZjp1cGRhdGVLZXliaW5kKGtleWJpbmQpCgkJCWVuZAoJCQkKCQkJaWYgdGV4dC5UZXh0ID09ICJOb25lIiB0aGVuIC0tIG5ldyBiaW5kCgkJCQl0ZXh0LlRleHQgPSAiLi4uIgoJCQkJCgkJCQlsb2NhbCBrZXkgPSB1dGlsaXR5OktleVByZXNzZWQoKQoJCQkJCgkJCQlzZWxmOnVwZGF0ZUtleWJpbmQoa2V5YmluZCwgbmlsLCBrZXkuS2V5Q29kZSkKCQkJCWFuaW1hdGUoKQoJCQkJCgkJCQlpZiBjaGFuZ2VkQ2FsbGJhY2sgdGhlbgoJCQkJCWNoYW5nZWRDYWxsYmFjayhrZXksIGZ1bmN0aW9uKC4uLikKCQkJCQkJc2VsZjp1cGRhdGVLZXliaW5kKGtleWJpbmQsIC4uLikKCQkJCQllbmQpCgkJCQllbmQKCQkJZW5kCgkJZW5kKQoJCQoJCXJldHVybiBrZXliaW5kCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjphZGRDb2xvclBpY2tlcih0aXRsZSwgZGVmYXVsdCwgY2FsbGJhY2spCgkJbG9jYWwgY29sb3JwaWNrZXIgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCU5hbWUgPSAiQ29sb3JQaWNrZXIiLAoJCQlQYXJlbnQgPSBzZWxmLmNvbnRhaW5lciwKCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCVNpemUgPSBVRGltMi5uZXcoMSwgMCwgMCwgMzApLAoJCQlaSW5kZXggPSAyLAoJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkRhcmtDb250cmFzdCwKCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJfSx7CgkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7CgkJCQlOYW1lID0gIlRpdGxlIiwKCQkJCUFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMC41KSwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAuNSwgMSksCgkJCQlTaXplID0gVURpbTIubmV3KDAuNSwgMCwgMSwgMCksCgkJCQlaSW5kZXggPSAzLAoJCQkJRm9udCA9IEVudW0uRm9udC5Hb3RoYW0sCgkJCQlUZXh0ID0gdGl0bGUsCgkJCQlUZXh0Q29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCVRleHRTaXplID0gMTIsCgkJCQlUZXh0VHJhbnNwYXJlbmN5ID0gMC4xMDAwMDAwMDE0OTAxMiwKCQkJCVRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJCX0pLAoJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCQlOYW1lID0gIkJ1dHRvbiIsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtNTAsIDAuNSwgLTcpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCA0MCwgMCwgMTQpLAoJCQkJWkluZGV4ID0gMiwKCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJCUltYWdlQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSksCgkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCX0pCgkJfSkKCQkKCQlsb2NhbCB0YWIgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJTmFtZSA9ICJDb2xvclBpY2tlciIsCgkJCVBhcmVudCA9IHNlbGYucGFnZS5saWJyYXJ5LmNvbnRhaW5lciwKCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAuNzUsIDAsIDAuNDAwMDAwMDA2LCAwKSwKCQkJU2VsZWN0YWJsZSA9IHRydWUsCgkJCUFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMC41LCAwLjUpLAoJCQlTaXplID0gVURpbTIubmV3KDAsIDE2MiwgMCwgMTY5KSwKCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5CYWNrZ3JvdW5kLAoJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyLCAyLCAyOTgsIDI5OCksCgkJCVZpc2libGUgPSBmYWxzZSwKCQl9LCB7CgkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJTmFtZSA9ICJHbG93IiwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgLTE1LCAwLCAtMTUpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAzMCwgMSwgMzApLAoJCQkJWkluZGV4ID0gMCwKCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3MDg0IiwKCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkdsb3csCgkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMjIsIDIyLCAyNzgsIDI3OCkKCQkJfSksCgkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7CgkJCQlOYW1lID0gIlRpdGxlIiwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtNDAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDIsCgkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDE0LAoJCQkJVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKCQkJfSksCgkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUJ1dHRvbiIsIHsKCQkJCU5hbWUgPSAiQ2xvc2UiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygxLCAtMjYsIDAsIDgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxNiwgMCwgMTYpLAoJCQkJWkluZGV4ID0gMiwKCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDEyNTM4NTgzIiwKCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLlRleHRDb2xvcgoJCQl9KSwgCgkJCXV0aWxpdHk6Q3JlYXRlKCJGcmFtZSIsIHsKCQkJCU5hbWUgPSAiQ29udGFpbmVyIiwKCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgOCwgMCwgMzIpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTgsIDEsIC00MCkKCQkJfSwgewoJCQkJdXRpbGl0eTpDcmVhdGUoIlVJTGlzdExheW91dCIsIHsKCQkJCQlTb3J0T3JkZXIgPSBFbnVtLlNvcnRPcmRlci5MYXlvdXRPcmRlciwKCQkJCQlQYWRkaW5nID0gVURpbS5uZXcoMCwgNikKCQkJCX0pLAoJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlQnV0dG9uIiwgewoJCQkJCU5hbWUgPSAiQ2FudmFzIiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlCb3JkZXJDb2xvcjMgPSB0aGVtZXMuTGlnaHRDb250cmFzdCwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDYwKSwKCQkJCQlBdXRvQnV0dG9uQ29sb3IgPSBmYWxzZSwKCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTEwODUzNTMyMCIsCgkJCQkJSW1hZ2VDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApLAoJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCQl9LCB7CgkJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQkJCU5hbWUgPSAiV2hpdGVfT3ZlcmxheSIsCgkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDYwKSwKCQkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUxMDcxNTIzNTEiLAoJCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQkJCX0pLAoJCQkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJCQlOYW1lID0gIkJsYWNrX092ZXJsYXkiLAoJCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCA2MCksCgkJCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MTA3MTUyMDk1IiwKCQkJCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyLCAyLCAyOTgsIDI5OCkKCQkJCQl9KSwKCQkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCQkJTmFtZSA9ICJDdXJzb3IiLAoJCQkJCQlCYWNrZ3JvdW5kQ29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQkJQW5jaG9yUG9pbnQgPSBWZWN0b3IyLm5ldygwLjUsIDAuNSksCgkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLjAwMCwKCQkJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMTApLAoJCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKSwKCQkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUxMDAxMTU5NjIiLAoJCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQkJCX0pCgkJCQl9KSwKCQkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUJ1dHRvbiIsIHsKCQkJCQlOYW1lID0gIkNvbG9yIiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAsIDAsIDAsIDQpLAoJCQkJCVNlbGVjdGFibGUgPSBmYWxzZSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDE2KSwKCQkJCQlaSW5kZXggPSAyLAoJCQkJCUF1dG9CdXR0b25Db2xvciA9IGZhbHNlLAoJCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQkJfSwgewoJCQkJCXV0aWxpdHk6Q3JlYXRlKCJGcmFtZSIsIHsKCQkJCQkJTmFtZSA9ICJTZWxlY3QiLAoJCQkJCQlCYWNrZ3JvdW5kQ29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQkJQm9yZGVyU2l6ZVBpeGVsID0gMSwKCQkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgMCwgMCwgMCksCgkJCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgMiwgMSwgMCksCgkJCQkJCVpJbmRleCA9IDIKCQkJCQl9KSwKCQkJCQl1dGlsaXR5OkNyZWF0ZSgiVUlHcmFkaWVudCIsIHsgLS0gcmFpbmJvdyBjYW52YXMKCQkJCQkJQ29sb3IgPSBDb2xvclNlcXVlbmNlLm5ldyh7CgkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkpLCAKCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC4xNywgQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDApKSwgCgkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMzMsIENvbG9yMy5mcm9tUkdCKDAsIDI1NSwgMCkpLCAKCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC41MCwgQ29sb3IzLmZyb21SR0IoMCwgMjU1LCAyNTUpKSwgCgkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuNjYsIENvbG9yMy5mcm9tUkdCKDAsIDAsIDI1NSkpLCAKCQkJCQkJCUNvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC44MiwgQ29sb3IzLmZyb21SR0IoMjU1LCAwLCAyNTUpKSwgCgkJCQkJCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEuMDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkpCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0pLAoJCQkJdXRpbGl0eTpDcmVhdGUoIkZyYW1lIiwgewoJCQkJCU5hbWUgPSAiSW5wdXRzIiwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMTU4KSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDE2KQoJCQkJfSwgewoJCQkJCXV0aWxpdHk6Q3JlYXRlKCJVSUxpc3RMYXlvdXQiLCB7CgkJCQkJCUZpbGxEaXJlY3Rpb24gPSBFbnVtLkZpbGxEaXJlY3Rpb24uSG9yaXpvbnRhbCwKCQkJCQkJU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIsCgkJCQkJCVBhZGRpbmcgPSBVRGltLm5ldygwLCA2KQoJCQkJCX0pLAoJCQkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJCQlOYW1lID0gIlIiLAoJCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQkJQm9yZGVyU2l6ZVBpeGVsID0gMCwKCQkJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLjMwNSwgMCwgMSwgMCksCgkJCQkJCVpJbmRleCA9IDIsCgkJCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0LAoJCQkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyLCAyLCAyOTgsIDI5OCkKCQkJCQl9LCB7CgkJCQkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7CgkJCQkJCQlOYW1lID0gIlRleHQiLAoJCQkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJCQlTaXplID0gVURpbTIubmV3KDAuNDAwMDAwMDA2LCAwLCAxLCAwKSwKCQkJCQkJCVpJbmRleCA9IDIsCgkJCQkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbSwKCQkJCQkJCVRleHQgPSAiUjoiLAoJCQkJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJCQlUZXh0U2l6ZSA9IDEwLjAwMAoJCQkJCQl9KSwKCQkJCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRCb3giLCB7CgkJCQkJCQlOYW1lID0gIlRleHRib3giLAoJCQkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLjMwMDAwMDAxMiwgMCwgMCwgMCksCgkJCQkJCQlTaXplID0gVURpbTIubmV3KDAuNjAwMDAwMDI0LCAwLCAxLCAwKSwKCQkJCQkJCVpJbmRleCA9IDIsCgkJCQkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbSwKCQkJCQkJCVBsYWNlaG9sZGVyQ29sb3IzID0gdGhlbWVzLkRhcmtDb250cmFzdCwKCQkJCQkJCVRleHQgPSAiMjU1IiwKCQkJCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCQkJVGV4dFNpemUgPSAxMC4wMDAKCQkJCQkJfSkKCQkJCQl9KSwKCQkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCQkJTmFtZSA9ICJHIiwKCQkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQkJCVNpemUgPSBVRGltMi5uZXcoMC4zMDUsIDAsIDEsIDApLAoJCQkJCQlaSW5kZXggPSAyLAoJCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkRhcmtDb250cmFzdCwKCQkJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCQkJfSwgewoJCQkJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJCQkJTmFtZSA9ICJUZXh0IiwKCQkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQkJWkluZGV4ID0gMiwKCQkJCQkJCVNpemUgPSBVRGltMi5uZXcoMC40MDAwMDAwMDYsIDAsIDEsIDApLAoJCQkJCQkJRm9udCA9IEVudW0uRm9udC5Hb3RoYW0sCgkJCQkJCQlUZXh0ID0gIkc6IiwKCQkJCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCQkJVGV4dFNpemUgPSAxMC4wMDAKCQkJCQkJfSksCgkJCQkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0Qm94IiwgewoJCQkJCQkJTmFtZSA9ICJUZXh0Ym94IiwKCQkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMC4zMDAwMDAwMTIsIDAsIDAsIDApLAoJCQkJCQkJU2l6ZSA9IFVEaW0yLm5ldygwLjYwMDAwMDAyNCwgMCwgMSwgMCksCgkJCQkJCQlaSW5kZXggPSAyLAoJCQkJCQkJRm9udCA9IEVudW0uRm9udC5Hb3RoYW0sCgkJCQkJCQlUZXh0ID0gIjI1NSIsCgkJCQkJCQlUZXh0Q29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQkJCVRleHRTaXplID0gMTAuMDAwCgkJCQkJCX0pCgkJCQkJfSksCgkJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQkJCU5hbWUgPSAiQiIsCgkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQkJCQlTaXplID0gVURpbTIubmV3KDAuMzA1LCAwLCAxLCAwKSwKCQkJCQkJWkluZGV4ID0gMiwKCQkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5EYXJrQ29udHJhc3QsCgkJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQkJCX0sIHsKCQkJCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCQkJCU5hbWUgPSAiVGV4dCIsCgkJCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQkJCVNpemUgPSBVRGltMi5uZXcoMC40MDAwMDAwMDYsIDAsIDEsIDApLAoJCQkJCQkJWkluZGV4ID0gMiwKCQkJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJCQkJVGV4dCA9ICJCOiIsCgkJCQkJCQlUZXh0Q29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQkJCVRleHRTaXplID0gMTAuMDAwCgkJCQkJCX0pLAoJCQkJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dEJveCIsIHsKCQkJCQkJCU5hbWUgPSAiVGV4dGJveCIsCgkJCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDAuMzAwMDAwMDEyLCAwLCAwLCAwKSwKCQkJCQkJCVNpemUgPSBVRGltMi5uZXcoMC42MDAwMDAwMjQsIDAsIDEsIDApLAoJCQkJCQkJWkluZGV4ID0gMiwKCQkJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJCQkJVGV4dCA9ICIyNTUiLAoJCQkJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJCQlUZXh0U2l6ZSA9IDEwLjAwMAoJCQkJCQl9KQoJCQkJCX0pLAoJCQkJfSksCgkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCQkJTmFtZSA9ICJCdXR0b24iLAoJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAyMCksCgkJCQkJWkluZGV4ID0gMiwKCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0LAoJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCQl9LCB7CgkJCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCQkJTmFtZSA9ICJUZXh0IiwKCQkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgMCwgMSwgMCksCgkJCQkJCVpJbmRleCA9IDMsCgkJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJCQlUZXh0ID0gIlN1Ym1pdCIsCgkJCQkJCVRleHRDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCQlUZXh0U2l6ZSA9IDExLjAwMAoJCQkJCX0pCgkJCQl9KQoJCQl9KQoJCX0pCgkJCgkJdXRpbGl0eTpEcmFnZ2luZ0VuYWJsZWQodGFiKQoJCXRhYmxlLmluc2VydChzZWxmLm1vZHVsZXMsIGNvbG9ycGlja2VyKQoJCS0tc2VsZjpSZXNpemUoKQoJCQoJCWxvY2FsIGFsbG93ZWQgPSB7CgkJCVsiIl0gPSB0cnVlCgkJfQoJCQoJCWxvY2FsIGNhbnZhcyA9IHRhYi5Db250YWluZXIuQ2FudmFzCgkJbG9jYWwgY29sb3IgPSB0YWIuQ29udGFpbmVyLkNvbG9yCgkJCgkJbG9jYWwgY2FudmFzU2l6ZSwgY2FudmFzUG9zaXRpb24gPSBjYW52YXMuQWJzb2x1dGVTaXplLCBjYW52YXMuQWJzb2x1dGVQb3NpdGlvbgoJCWxvY2FsIGNvbG9yU2l6ZSwgY29sb3JQb3NpdGlvbiA9IGNvbG9yLkFic29sdXRlU2l6ZSwgY29sb3IuQWJzb2x1dGVQb3NpdGlvbgoJCQoJCWxvY2FsIGRyYWdnaW5nQ29sb3IsIGRyYWdnaW5nQ2FudmFzCgkJCgkJbG9jYWwgY29sb3IzID0gZGVmYXVsdCBvciBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KQoJCWxvY2FsIGh1ZSwgc2F0LCBicmlnaHRuZXNzID0gMCwgMCwgMQoJCWxvY2FsIHJnYiA9IHsKCQkJciA9IDI1NSwKCQkJZyA9IDI1NSwKCQkJYiA9IDI1NQoJCX0KCQkKCQlzZWxmLmNvbG9ycGlja2Vyc1tjb2xvcnBpY2tlcl0gPSB7CgkJCXRhYiA9IHRhYiwKCQkJY2FsbGJhY2sgPSBmdW5jdGlvbihwcm9wLCB2YWx1ZSkKCQkJCXJnYltwcm9wXSA9IHZhbHVlCgkJCQlodWUsIHNhdCwgYnJpZ2h0bmVzcyA9IENvbG9yMy50b0hTVihDb2xvcjMuZnJvbVJHQihyZ2IuciwgcmdiLmcsIHJnYi5iKSkKCQkJZW5kCgkJfQoJCQoJCWxvY2FsIGNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCgkJCWlmIGNhbGxiYWNrIHRoZW4KCQkJCWNhbGxiYWNrKHZhbHVlLCBmdW5jdGlvbiguLi4pCgkJCQkJc2VsZjp1cGRhdGVDb2xvclBpY2tlcihjb2xvcnBpY2tlciwgLi4uKQoJCQkJZW5kKQoJCQllbmQKCQllbmQKCQkKCQl1dGlsaXR5OkRyYWdnaW5nRW5kZWQoZnVuY3Rpb24oKQoJCQlkcmFnZ2luZ0NvbG9yLCBkcmFnZ2luZ0NhbnZhcyA9IGZhbHNlLCBmYWxzZQoJCWVuZCkKCQkKCQlpZiBkZWZhdWx0IHRoZW4KCQkJc2VsZjp1cGRhdGVDb2xvclBpY2tlcihjb2xvcnBpY2tlciwgbmlsLCBkZWZhdWx0KQoJCQkKCQkJaHVlLCBzYXQsIGJyaWdodG5lc3MgPSBDb2xvcjMudG9IU1YoZGVmYXVsdCkKCQkJZGVmYXVsdCA9IENvbG9yMy5mcm9tSFNWKGh1ZSwgc2F0LCBicmlnaHRuZXNzKQoJCQkKCQkJZm9yIGksIHByb3AgaW4gcGFpcnMoeyJyIiwgImciLCAiYiJ9KSBkbwoJCQkJcmdiW3Byb3BdID0gZGVmYXVsdFtwcm9wOnVwcGVyKCldICogMjU1CgkJCWVuZAoJCWVuZAoJCQoJCWZvciBpLCBjb250YWluZXIgaW4gcGFpcnModGFiLkNvbnRhaW5lci5JbnB1dHM6R2V0Q2hpbGRyZW4oKSkgZG8gLS0gaSBrbm93IHdoYXQgeW91IGFyZSBhYm91dCB0byBzYXksIHNvIHNodXQgdXAKCQkJaWYgY29udGFpbmVyOklzQSgiSW1hZ2VMYWJlbCIpIHRoZW4KCQkJCWxvY2FsIHRleHRib3ggPSBjb250YWluZXIuVGV4dGJveAoJCQkJbG9jYWwgZm9jdXNlZAoJCQkJCgkJCQl0ZXh0Ym94LkZvY3VzZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJZm9jdXNlZCA9IHRydWUKCQkJCWVuZCkKCQkJCQoJCQkJdGV4dGJveC5Gb2N1c0xvc3Q6Q29ubmVjdChmdW5jdGlvbigpCgkJCQkJZm9jdXNlZCA9IGZhbHNlCgkJCQkJCgkJCQkJaWYgbm90IHRvbnVtYmVyKHRleHRib3guVGV4dCkgdGhlbgoJCQkJCQl0ZXh0Ym94LlRleHQgPSBtYXRoLmZsb29yKHJnYltjb250YWluZXIuTmFtZTpsb3dlcigpXSkKCQkJCQllbmQKCQkJCWVuZCkKCQkJCQoJCQkJdGV4dGJveDpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoIlRleHQiKTpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCQlsb2NhbCB0ZXh0ID0gdGV4dGJveC5UZXh0CgkJCQkJCgkJCQkJaWYgbm90IGFsbG93ZWRbdGV4dF0gYW5kIG5vdCB0b251bWJlcih0ZXh0KSB0aGVuCgkJCQkJCXRleHRib3guVGV4dCA9IHRleHQ6c3ViKDEsICN0ZXh0IC0gMSkKCQkJCQllbHNlaWYgZm9jdXNlZCBhbmQgbm90IGFsbG93ZWRbdGV4dF0gdGhlbgoJCQkJCQlyZ2JbY29udGFpbmVyLk5hbWU6bG93ZXIoKV0gPSBtYXRoLmNsYW1wKHRvbnVtYmVyKHRleHRib3guVGV4dCksIDAsIDI1NSkKCQkJCQkJCgkJCQkJCWxvY2FsIGNvbG9yMyA9IENvbG9yMy5mcm9tUkdCKHJnYi5yLCByZ2IuZywgcmdiLmIpCgkJCQkJCWh1ZSwgc2F0LCBicmlnaHRuZXNzID0gQ29sb3IzLnRvSFNWKGNvbG9yMykKCQkJCQkJCgkJCQkJCXNlbGY6dXBkYXRlQ29sb3JQaWNrZXIoY29sb3JwaWNrZXIsIG5pbCwgY29sb3IzKQoJCQkJCQljYWxsYmFjayhjb2xvcjMpCgkJCQkJZW5kCgkJCQllbmQpCgkJCWVuZAoJCWVuZAoJCQoJCWNhbnZhcy5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlkcmFnZ2luZ0NhbnZhcyA9IHRydWUKCQkJCgkJCXdoaWxlIGRyYWdnaW5nQ2FudmFzIGRvCgkJCQkKCQkJCWxvY2FsIHgsIHkgPSBtb3VzZS5YLCBtb3VzZS5ZCgkJCQkKCQkJCXNhdCA9IG1hdGguY2xhbXAoKHggLSBjYW52YXNQb3NpdGlvbi5YKSAvIGNhbnZhc1NpemUuWCwgMCwgMSkKCQkJCWJyaWdodG5lc3MgPSAxIC0gbWF0aC5jbGFtcCgoeSAtIGNhbnZhc1Bvc2l0aW9uLlkpIC8gY2FudmFzU2l6ZS5ZLCAwLCAxKQoJCQkJCgkJCQljb2xvcjMgPSBDb2xvcjMuZnJvbUhTVihodWUsIHNhdCwgYnJpZ2h0bmVzcykKCQkJCQoJCQkJZm9yIGksIHByb3AgaW4gcGFpcnMoeyJyIiwgImciLCAiYiJ9KSBkbwoJCQkJCXJnYltwcm9wXSA9IGNvbG9yM1twcm9wOnVwcGVyKCldICogMjU1CgkJCQllbmQKCQkJCQoJCQkJc2VsZjp1cGRhdGVDb2xvclBpY2tlcihjb2xvcnBpY2tlciwgbmlsLCB7aHVlLCBzYXQsIGJyaWdodG5lc3N9KSAtLSByb2Jsb3ggaXMgbGl0ZXJhbGx5IHJldGFyZGVkCgkJCQl1dGlsaXR5OlR3ZWVuKGNhbnZhcy5DdXJzb3IsIHtQb3NpdGlvbiA9IFVEaW0yLm5ldyhzYXQsIDAsIDEgLSBicmlnaHRuZXNzLCAwKX0sIDAuMSkgLS0gb3ZlcndyaXRlCgkJCQkKCQkJCWNhbGxiYWNrKGNvbG9yMykKCQkJCXV0aWxpdHk6V2FpdCgpCgkJCWVuZAoJCWVuZCkKCQkKCQljb2xvci5Nb3VzZUJ1dHRvbjFEb3duOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlkcmFnZ2luZ0NvbG9yID0gdHJ1ZQoJCQkKCQkJd2hpbGUgZHJhZ2dpbmdDb2xvciBkbwoJCQkKCQkJCWh1ZSA9IDEgLSBtYXRoLmNsYW1wKDEgLSAoKG1vdXNlLlggLSBjb2xvclBvc2l0aW9uLlgpIC8gY29sb3JTaXplLlgpLCAwLCAxKQoJCQkJY29sb3IzID0gQ29sb3IzLmZyb21IU1YoaHVlLCBzYXQsIGJyaWdodG5lc3MpCgkJCQkKCQkJCWZvciBpLCBwcm9wIGluIHBhaXJzKHsiciIsICJnIiwgImIifSkgZG8KCQkJCQlyZ2JbcHJvcF0gPSBjb2xvcjNbcHJvcDp1cHBlcigpXSAqIDI1NQoJCQkJZW5kCgkJCQkKCQkJCWxvY2FsIHggPSBodWUgLS0gaHVlIGlzIHVwZGF0ZWQKCQkJCXNlbGY6dXBkYXRlQ29sb3JQaWNrZXIoY29sb3JwaWNrZXIsIG5pbCwge2h1ZSwgc2F0LCBicmlnaHRuZXNzfSkgLS0gcm9ibG94IGlzIGxpdGVyYWxseSByZXRhcmRlZAoJCQkJdXRpbGl0eTpUd2Vlbih0YWIuQ29udGFpbmVyLkNvbG9yLlNlbGVjdCwge1Bvc2l0aW9uID0gVURpbTIubmV3KHgsIDAsIDAsIDApfSwgMC4xKSAtLSBvdmVyd3JpdGUKCQkJCQoJCQkJY2FsbGJhY2soY29sb3IzKQoJCQkJdXRpbGl0eTpXYWl0KCkKCQkJZW5kCgkJZW5kKQoJCQoJCS0tIGNsaWNrIGV2ZW50cwoJCWxvY2FsIGJ1dHRvbiA9IGNvbG9ycGlja2VyLkJ1dHRvbgoJCWxvY2FsIHRvZ2dsZSwgZGVib3VuY2UsIGFuaW1hdGUKCQkKCQlsYXN0Q29sb3IgPSBDb2xvcjMuZnJvbUhTVihodWUsIHNhdCwgYnJpZ2h0bmVzcykKCQlhbmltYXRlID0gZnVuY3Rpb24odmlzaWJsZSwgb3ZlcndyaXRlKQoJCQkKCQkJaWYgb3ZlcndyaXRlIHRoZW4KCQkJCgkJCQlpZiBub3QgdG9nZ2xlIHRoZW4KCQkJCQlyZXR1cm4KCQkJCWVuZAoJCQkJCgkJCQlpZiBkZWJvdW5jZSB0aGVuCgkJCQkJd2hpbGUgZGVib3VuY2UgZG8KCQkJCQkJdXRpbGl0eTpXYWl0KCkKCQkJCQllbmQKCQkJCWVuZAoJCQllbHNlaWYgbm90IG92ZXJ3cml0ZSB0aGVuCgkJCQlpZiBkZWJvdW5jZSB0aGVuIAoJCQkJCXJldHVybiAKCQkJCWVuZAoJCQkJCgkJCQlpZiBidXR0b24uSW1hZ2VUcmFuc3BhcmVuY3kgPT0gMCB0aGVuCgkJCQkJdXRpbGl0eTpQb3AoYnV0dG9uLCAxMCkKCQkJCWVuZAoJCQllbmQKCQkJCgkJCXRvZ2dsZSA9IHZpc2libGUKCQkJZGVib3VuY2UgPSB0cnVlCgkJCQoJCQlpZiB2aXNpYmxlIHRoZW4KCQkJCgkJCQlpZiBzZWxmLnBhZ2UubGlicmFyeS5hY3RpdmVQaWNrZXIgYW5kIHNlbGYucGFnZS5saWJyYXJ5LmFjdGl2ZVBpY2tlciB+PSBhbmltYXRlIHRoZW4KCQkJCQlzZWxmLnBhZ2UubGlicmFyeS5hY3RpdmVQaWNrZXIobmlsLCB0cnVlKQoJCQkJZW5kCgkJCQkKCQkJCXNlbGYucGFnZS5saWJyYXJ5LmFjdGl2ZVBpY2tlciA9IGFuaW1hdGUKCQkJCWxhc3RDb2xvciA9IENvbG9yMy5mcm9tSFNWKGh1ZSwgc2F0LCBicmlnaHRuZXNzKQoJCQkJCgkJCQlsb2NhbCB4MSwgeDIgPSBidXR0b24uQWJzb2x1dGVTaXplLlggLyAyLCAxNjItLXRhYi5BYnNvbHV0ZVNpemUuWAoJCQkJbG9jYWwgcHgsIHB5ID0gYnV0dG9uLkFic29sdXRlUG9zaXRpb24uWCwgYnV0dG9uLkFic29sdXRlUG9zaXRpb24uWQoJCQkJCgkJCQl0YWIuQ2xpcHNEZXNjZW5kYW50cyA9IHRydWUKCQkJCXRhYi5WaXNpYmxlID0gdHJ1ZQoJCQkJdGFiLlNpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMCkKCQkJCQoJCQkJdGFiLlBvc2l0aW9uID0gVURpbTIubmV3KDAsIHgxICsgeDIgKyBweCwgMCwgcHkpCgkJCQl1dGlsaXR5OlR3ZWVuKHRhYiwge1NpemUgPSBVRGltMi5uZXcoMCwgMTYyLCAwLCAxNjkpfSwgMC4yKQoJCQkJCgkJCQktLSB1cGRhdGUgc2l6ZSBhbmQgcG9zaXRpb24KCQkJCXdhaXQoMC4yKQoJCQkJdGFiLkNsaXBzRGVzY2VuZGFudHMgPSBmYWxzZQoJCQkJCgkJCQljYW52YXNTaXplLCBjYW52YXNQb3NpdGlvbiA9IGNhbnZhcy5BYnNvbHV0ZVNpemUsIGNhbnZhcy5BYnNvbHV0ZVBvc2l0aW9uCgkJCQljb2xvclNpemUsIGNvbG9yUG9zaXRpb24gPSBjb2xvci5BYnNvbHV0ZVNpemUsIGNvbG9yLkFic29sdXRlUG9zaXRpb24KCQkJZWxzZQoJCQkJdXRpbGl0eTpUd2Vlbih0YWIsIHtTaXplID0gVURpbTIubmV3KDAsIDAsIDAsIDApfSwgMC4yKQoJCQkJdGFiLkNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCgkJCQkKCQkJCXdhaXQoMC4yKQoJCQkJdGFiLlZpc2libGUgPSBmYWxzZQoJCQllbmQKCQkJCgkJCWRlYm91bmNlID0gZmFsc2UKCQllbmQKCQkKCQlsb2NhbCB0b2dnbGVUYWIgPSBmdW5jdGlvbigpCgkJCWFuaW1hdGUobm90IHRvZ2dsZSkKCQllbmQKCQkKCQlidXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCh0b2dnbGVUYWIpCgkJY29sb3JwaWNrZXIuTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdCh0b2dnbGVUYWIpCgkJCgkJdGFiLkNvbnRhaW5lci5CdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJCWFuaW1hdGUoKQoJCWVuZCkKCQkKCQl0YWIuQ2xvc2UuTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJCXNlbGY6dXBkYXRlQ29sb3JQaWNrZXIoY29sb3JwaWNrZXIsIG5pbCwgbGFzdENvbG9yKQoJCQlhbmltYXRlKCkKCQllbmQpCgkJCgkJcmV0dXJuIGNvbG9ycGlja2VyCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjphZGRTbGlkZXIodGl0bGUsIGRlZmF1bHQsIG1pbiwgbWF4LCBjYWxsYmFjaykKCQlsb2NhbCBzbGlkZXIgPSB1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCU5hbWUgPSAiU2xpZGVyIiwKCQkJUGFyZW50ID0gc2VsZi5jb250YWluZXIsCgkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLjI5MjgxNzY4MiwgMCwgMC4yOTkxNDUzMTEsIDApLAoJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDUwKSwKCQkJWkluZGV4ID0gMiwKCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5EYXJrQ29udHJhc3QsCgkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCX0sIHsKCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRMYWJlbCIsIHsKCQkJCU5hbWUgPSAiVGl0bGUiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgNiksCgkJCQlTaXplID0gVURpbTIubmV3KDAuNSwgMCwgMCwgMTYpLAoJCQkJWkluZGV4ID0gMywKCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJVGV4dCA9IHRpdGxlLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFRyYW5zcGFyZW5jeSA9IDAuMTAwMDAwMDAxNDkwMTIsCgkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIlRleHRCb3giLCB7CgkJCQlOYW1lID0gIlRleHRCb3giLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTMwLCAwLCA2KSwKCQkJCVNpemUgPSBVRGltMi5uZXcoMCwgMjAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDMsCgkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkLAoJCQkJVGV4dCA9IGRlZmF1bHQgb3IgbWluLAoJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LlJpZ2h0CgkJCX0pLAoJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dExhYmVsIiwgewoJCQkJTmFtZSA9ICJTbGlkZXIiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMCwgMjgpLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjAsIDAsIDE2KSwKCQkJCVpJbmRleCA9IDMsCgkJCQlUZXh0ID0gIiIsCgkJCX0sIHsKCQkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJCU5hbWUgPSAiQmFyIiwKCQkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAsIDAuNSksCgkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMCwgMC41LCAwKSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDQpLAoJCQkJCVpJbmRleCA9IDMsCgkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkxpZ2h0Q29udHJhc3QsCgkJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQkJU2xpY2VDZW50ZXIgPSBSZWN0Lm5ldygyLCAyLCAyOTgsIDI5OCkKCQkJCX0sIHsKCQkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VMYWJlbCIsIHsKCQkJCQkJTmFtZSA9ICJGaWxsIiwKCQkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJCVNpemUgPSBVRGltMi5uZXcoMC44LCAwLCAxLCAwKSwKCQkJCQkJWkluZGV4ID0gMywKCQkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJCVNjYWxlVHlwZSA9IEVudW0uU2NhbGVUeXBlLlNsaWNlLAoJCQkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQkJCX0sIHsKCQkJCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQkJCQlOYW1lID0gIkNpcmNsZSIsCgkJCQkJCQlBbmNob3JQb2ludCA9IFZlY3RvcjIubmV3KDAuNSwgMC41KSwKCQkJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCQkJSW1hZ2VUcmFuc3BhcmVuY3kgPSAxLjAwMCwKCQkJCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQkJCVBvc2l0aW9uID0gVURpbTIubmV3KDEsIDAsIDAuNSwgMCksCgkJCQkJCQlTaXplID0gVURpbTIubmV3KDAsIDEwLCAwLCAxMCksCgkJCQkJCQlaSW5kZXggPSAzLAoJCQkJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzQ2MDgwMjAwNTQiCgkJCQkJCX0pCgkJCQkJfSkKCQkJCX0pCgkJCX0pCgkJfSkKCQkKCQl0YWJsZS5pbnNlcnQoc2VsZi5tb2R1bGVzLCBzbGlkZXIpCgkJLS1zZWxmOlJlc2l6ZSgpCgkJCgkJbG9jYWwgYWxsb3dlZCA9IHsKCQkJWyIiXSA9IHRydWUsCgkJCVsiLSJdID0gdHJ1ZQoJCX0KCQkKCQlsb2NhbCB0ZXh0Ym94ID0gc2xpZGVyLlRleHRCb3gKCQlsb2NhbCBjaXJjbGUgPSBzbGlkZXIuU2xpZGVyLkJhci5GaWxsLkNpcmNsZQoJCQoJCWxvY2FsIHZhbHVlID0gZGVmYXVsdCBvciBtaW4KCQlsb2NhbCBkcmFnZ2luZywgbGFzdAoJCQoJCWxvY2FsIGNhbGxiYWNrID0gZnVuY3Rpb24odmFsdWUpCgkJCWlmIGNhbGxiYWNrIHRoZW4KCQkJCWNhbGxiYWNrKHZhbHVlLCBmdW5jdGlvbiguLi4pCgkJCQkJc2VsZjp1cGRhdGVTbGlkZXIoc2xpZGVyLCAuLi4pCgkJCQllbmQpCgkJCWVuZAoJCWVuZAoJCQoJCXNlbGY6dXBkYXRlU2xpZGVyKHNsaWRlciwgbmlsLCB2YWx1ZSwgbWluLCBtYXgpCgkJCgkJdXRpbGl0eTpEcmFnZ2luZ0VuZGVkKGZ1bmN0aW9uKCkKCQkJZHJhZ2dpbmcgPSBmYWxzZQoJCWVuZCkKCgkJc2xpZGVyLk1vdXNlQnV0dG9uMURvd246Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKCQkJZHJhZ2dpbmcgPSB0cnVlCgkJCQoJCQl3aGlsZSBkcmFnZ2luZyBkbwoJCQkJdXRpbGl0eTpUd2VlbihjaXJjbGUsIHtJbWFnZVRyYW5zcGFyZW5jeSA9IDB9LCAwLjEpCgkJCQkKCQkJCXZhbHVlID0gc2VsZjp1cGRhdGVTbGlkZXIoc2xpZGVyLCBuaWwsIG5pbCwgbWluLCBtYXgsIHZhbHVlKQoJCQkJY2FsbGJhY2sodmFsdWUpCgkJCQkKCQkJCXV0aWxpdHk6V2FpdCgpCgkJCWVuZAoJCQkKCQkJd2FpdCgwLjUpCgkJCXV0aWxpdHk6VHdlZW4oY2lyY2xlLCB7SW1hZ2VUcmFuc3BhcmVuY3kgPSAxfSwgMC4yKQoJCWVuZCkKCQkKCQl0ZXh0Ym94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgbm90IHRvbnVtYmVyKHRleHRib3guVGV4dCkgdGhlbgoJCQkJdmFsdWUgPSBzZWxmOnVwZGF0ZVNsaWRlcihzbGlkZXIsIG5pbCwgZGVmYXVsdCBvciBtaW4sIG1pbiwgbWF4KQoJCQkJY2FsbGJhY2sodmFsdWUpCgkJCWVuZAoJCWVuZCkKCQkKCQl0ZXh0Ym94OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVGV4dCIpOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlsb2NhbCB0ZXh0ID0gdGV4dGJveC5UZXh0CgkJCQoJCQlpZiBub3QgYWxsb3dlZFt0ZXh0XSBhbmQgbm90IHRvbnVtYmVyKHRleHQpIHRoZW4KCQkJCXRleHRib3guVGV4dCA9IHRleHQ6c3ViKDEsICN0ZXh0IC0gMSkKCQkJZWxzZWlmIG5vdCBhbGxvd2VkW3RleHRdIHRoZW4JCgkJCQl2YWx1ZSA9IHNlbGY6dXBkYXRlU2xpZGVyKHNsaWRlciwgbmlsLCB0b251bWJlcih0ZXh0KSBvciB2YWx1ZSwgbWluLCBtYXgpCgkJCQljYWxsYmFjayh2YWx1ZSkKCQkJZW5kCgkJZW5kKQoJCQoJCXJldHVybiBzbGlkZXIKCWVuZAoJCglmdW5jdGlvbiBzZWN0aW9uOmFkZERyb3Bkb3duKHRpdGxlLCBsaXN0LCBjYWxsYmFjaykKCQlsb2NhbCBkcm9wZG93biA9IHV0aWxpdHk6Q3JlYXRlKCJGcmFtZSIsIHsKCQkJTmFtZSA9ICJEcm9wZG93biIsCgkJCVBhcmVudCA9IHNlbGYuY29udGFpbmVyLAoJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAzMCksCgkJCUNsaXBzRGVzY2VuZGFudHMgPSB0cnVlCgkJfSwgewoJCQl1dGlsaXR5OkNyZWF0ZSgiVUlMaXN0TGF5b3V0IiwgewoJCQkJU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIsCgkJCQlQYWRkaW5nID0gVURpbS5uZXcoMCwgNCkKCQkJfSksCgkJCXV0aWxpdHk6Q3JlYXRlKCJJbWFnZUxhYmVsIiwgewoJCQkJTmFtZSA9ICJTZWFyY2giLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCAzMCksCgkJCQlaSW5kZXggPSAyLAoJCQkJSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzUwMjg4NTc0NzIiLAoJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0LAoJCQkJU2NhbGVUeXBlID0gRW51bS5TY2FsZVR5cGUuU2xpY2UsCgkJCQlTbGljZUNlbnRlciA9IFJlY3QubmV3KDIsIDIsIDI5OCwgMjk4KQoJCQl9LCB7CgkJCQl1dGlsaXR5OkNyZWF0ZSgiVGV4dEJveCIsIHsKCQkJCQlOYW1lID0gIlRleHRCb3giLAoJCQkJCUFuY2hvclBvaW50ID0gVmVjdG9yMi5uZXcoMCwgMC41KSwKCQkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCQlUZXh0VHJ1bmNhdGUgPSBFbnVtLlRleHRUcnVuY2F0ZS5BdEVuZCwKCQkJCQlQb3NpdGlvbiA9IFVEaW0yLm5ldygwLCAxMCwgMC41LCAxKSwKCQkJCQlTaXplID0gVURpbTIubmV3KDEsIC00MiwgMSwgMCksCgkJCQkJWkluZGV4ID0gMywKCQkJCQlGb250ID0gRW51bS5Gb250LkdvdGhhbSwKCQkJCQlUZXh0ID0gdGl0bGUsCgkJCQkJVGV4dENvbG9yMyA9IHRoZW1lcy5UZXh0Q29sb3IsCgkJCQkJVGV4dFNpemUgPSAxMiwKCQkJCQlUZXh0VHJhbnNwYXJlbmN5ID0gMC4xMDAwMDAwMDE0OTAxMiwKCQkJCQlUZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJCQkJfSksCgkJCQl1dGlsaXR5OkNyZWF0ZSgiSW1hZ2VCdXR0b24iLCB7CgkJCQkJTmFtZSA9ICJCdXR0b24iLAoJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMSwgLTI4LCAwLjUsIC05KSwKCQkJCQlTaXplID0gVURpbTIubmV3KDAsIDE4LCAwLCAxOCksCgkJCQkJWkluZGV4ID0gMywKCQkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAxMjUzOTQwMyIsCgkJCQkJSW1hZ2VDb2xvcjMgPSB0aGVtZXMuVGV4dENvbG9yLAoJCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCQl9KQoJCQl9KSwKCQkJdXRpbGl0eTpDcmVhdGUoIkltYWdlTGFiZWwiLCB7CgkJCQlOYW1lID0gIkxpc3QiLAoJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQlCb3JkZXJTaXplUGl4ZWwgPSAwLAoJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAxLCAtMzQpLAoJCQkJWkluZGV4ID0gMiwKCQkJCUltYWdlID0gInJieGFzc2V0aWQ6Ly81MDI4ODU3NDcyIiwKCQkJCUltYWdlQ29sb3IzID0gdGhlbWVzLkJhY2tncm91bmQsCgkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCX0sIHsKCQkJCXV0aWxpdHk6Q3JlYXRlKCJTY3JvbGxpbmdGcmFtZSIsIHsKCQkJCQlOYW1lID0gIkZyYW1lIiwKCQkJCQlBY3RpdmUgPSB0cnVlLAoJCQkJCUJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxLAoJCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgNCwgMCwgNCksCgkJCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtOCwgMSwgLTgpLAoJCQkJCUNhbnZhc1Bvc2l0aW9uID0gVmVjdG9yMi5uZXcoMCwgMjgpLAoJCQkJCUNhbnZhc1NpemUgPSBVRGltMi5uZXcoMCwgMCwgMCwgMTIwKSwKCQkJCQlaSW5kZXggPSAyLAoJCQkJCVNjcm9sbEJhclRoaWNrbmVzcyA9IDMsCgkJCQkJU2Nyb2xsQmFySW1hZ2VDb2xvcjMgPSB0aGVtZXMuRGFya0NvbnRyYXN0CgkJCQl9LCB7CgkJCQkJdXRpbGl0eTpDcmVhdGUoIlVJTGlzdExheW91dCIsIHsKCQkJCQkJU29ydE9yZGVyID0gRW51bS5Tb3J0T3JkZXIuTGF5b3V0T3JkZXIsCgkJCQkJCVBhZGRpbmcgPSBVRGltLm5ldygwLCA0KQoJCQkJCX0pCgkJCQl9KQoJCQl9KQoJCX0pCgkJCgkJdGFibGUuaW5zZXJ0KHNlbGYubW9kdWxlcywgZHJvcGRvd24pCgkJLS1zZWxmOlJlc2l6ZSgpCgkJCgkJbG9jYWwgc2VhcmNoID0gZHJvcGRvd24uU2VhcmNoCgkJbG9jYWwgZm9jdXNlZAoJCQoJCWxpc3QgPSBsaXN0IG9yIHt9CgkJCgkJc2VhcmNoLkJ1dHRvbi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJaWYgc2VhcmNoLkJ1dHRvbi5Sb3RhdGlvbiA9PSAwIHRoZW4KCQkJCXNlbGY6dXBkYXRlRHJvcGRvd24oZHJvcGRvd24sIG5pbCwgbGlzdCwgY2FsbGJhY2spCgkJCWVsc2UKCQkJCXNlbGY6dXBkYXRlRHJvcGRvd24oZHJvcGRvd24sIG5pbCwgbmlsLCBjYWxsYmFjaykKCQkJZW5kCgkJZW5kKQoJCQoJCXNlYXJjaC5UZXh0Qm94LkZvY3VzZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJCWlmIHNlYXJjaC5CdXR0b24uUm90YXRpb24gPT0gMCB0aGVuCgkJCQlzZWxmOnVwZGF0ZURyb3Bkb3duKGRyb3Bkb3duLCBuaWwsIGxpc3QsIGNhbGxiYWNrKQoJCQllbmQKCQkJCgkJCWZvY3VzZWQgPSB0cnVlCgkJZW5kKQoJCQoJCXNlYXJjaC5UZXh0Qm94LkZvY3VzTG9zdDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJZm9jdXNlZCA9IGZhbHNlCgkJZW5kKQoJCQoJCXNlYXJjaC5UZXh0Qm94OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVGV4dCIpOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQlpZiBmb2N1c2VkIHRoZW4KCQkJCWxvY2FsIGxpc3QgPSB1dGlsaXR5OlNvcnQoc2VhcmNoLlRleHRCb3guVGV4dCwgbGlzdCkKCQkJCWxpc3QgPSAjbGlzdCB+PSAwIGFuZCBsaXN0IAoJCQkJCgkJCQlzZWxmOnVwZGF0ZURyb3Bkb3duKGRyb3Bkb3duLCBuaWwsIGxpc3QsIGNhbGxiYWNrKQoJCQllbmQKCQllbmQpCgkJCgkJZHJvcGRvd246R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJTaXplIik6Q29ubmVjdChmdW5jdGlvbigpCgkJCXNlbGY6UmVzaXplKCkKCQllbmQpCgkJCgkJcmV0dXJuIGRyb3Bkb3duCgllbmQKCQoJLS0gY2xhc3MgZnVuY3Rpb25zCgkKCWZ1bmN0aW9uIGxpYnJhcnk6U2VsZWN0UGFnZShwYWdlLCB0b2dnbGUpCgkJCgkJaWYgdG9nZ2xlIGFuZCBzZWxmLmZvY3VzZWRQYWdlID09IHBhZ2UgdGhlbiAtLSBhbHJlYWR5IHNlbGVjdGVkCgkJCXJldHVybgoJCWVuZAoJCQoJCWxvY2FsIGJ1dHRvbiA9IHBhZ2UuYnV0dG9uCgkJCgkJaWYgdG9nZ2xlIHRoZW4KCQkJLS0gcGFnZSBidXR0b24KCQkJYnV0dG9uLlRpdGxlLlRleHRUcmFuc3BhcmVuY3kgPSAwCgkJCWJ1dHRvbi5UaXRsZS5Gb250ID0gRW51bS5Gb250LkdvdGhhbVNlbWlib2xkCgkJCQoJCQlpZiBidXR0b246RmluZEZpcnN0Q2hpbGQoIkljb24iKSB0aGVuCgkJCQlidXR0b24uSWNvbi5JbWFnZVRyYW5zcGFyZW5jeSA9IDAKCQkJZW5kCgkJCQoJCQktLSB1cGRhdGUgc2VsZWN0ZWQgcGFnZQoJCQlsb2NhbCBmb2N1c2VkUGFnZSA9IHNlbGYuZm9jdXNlZFBhZ2UKCQkJc2VsZi5mb2N1c2VkUGFnZSA9IHBhZ2UKCQkJCgkJCWlmIGZvY3VzZWRQYWdlIHRoZW4KCQkJCXNlbGY6U2VsZWN0UGFnZShmb2N1c2VkUGFnZSkKCQkJZW5kCgkJCQoJCQktLSBzZWN0aW9ucwoJCQlsb2NhbCBleGlzdGluZ1NlY3Rpb25zID0gZm9jdXNlZFBhZ2UgYW5kICNmb2N1c2VkUGFnZS5zZWN0aW9ucyBvciAwCgkJCWxvY2FsIHNlY3Rpb25zUmVxdWlyZWQgPSAjcGFnZS5zZWN0aW9ucyAtIGV4aXN0aW5nU2VjdGlvbnMKCQkJCgkJCXBhZ2U6UmVzaXplKCkKCQkJCgkJCWZvciBpLCBzZWN0aW9uIGluIHBhaXJzKHBhZ2Uuc2VjdGlvbnMpIGRvCgkJCQlzZWN0aW9uLmNvbnRhaW5lci5QYXJlbnQuSW1hZ2VUcmFuc3BhcmVuY3kgPSAwCgkJCWVuZAoJCQkKCQkJaWYgc2VjdGlvbnNSZXF1aXJlZCA8IDAgdGhlbiAtLSAiaGlkZXMiIHNvbWUgc2VjdGlvbnMKCQkJCWZvciBpID0gZXhpc3RpbmdTZWN0aW9ucywgI3BhZ2Uuc2VjdGlvbnMgKyAxLCAtMSBkbwoJCQkJCWxvY2FsIHNlY3Rpb24gPSBmb2N1c2VkUGFnZS5zZWN0aW9uc1tpXS5jb250YWluZXIuUGFyZW50CgkJCQkJCgkJCQkJdXRpbGl0eTpUd2VlbihzZWN0aW9uLCB7SW1hZ2VUcmFuc3BhcmVuY3kgPSAxfSwgMC4xKQoJCQkJZW5kCgkJCWVuZAoJCQkKCQkJd2FpdCgwLjEpCgkJCXBhZ2UuY29udGFpbmVyLlZpc2libGUgPSB0cnVlCgkJCQoJCQlpZiBmb2N1c2VkUGFnZSB0aGVuCgkJCQlmb2N1c2VkUGFnZS5jb250YWluZXIuVmlzaWJsZSA9IGZhbHNlCgkJCWVuZAoJCQkKCQkJaWYgc2VjdGlvbnNSZXF1aXJlZCA+IDAgdGhlbiAtLSAiY3JlYXRlcyIgbW9yZSBzZWN0aW9uCgkJCQlmb3IgaSA9IGV4aXN0aW5nU2VjdGlvbnMgKyAxLCAjcGFnZS5zZWN0aW9ucyBkbwoJCQkJCWxvY2FsIHNlY3Rpb24gPSBwYWdlLnNlY3Rpb25zW2ldLmNvbnRhaW5lci5QYXJlbnQKCQkJCQkKCQkJCQlzZWN0aW9uLkltYWdlVHJhbnNwYXJlbmN5ID0gMQoJCQkJCXV0aWxpdHk6VHdlZW4oc2VjdGlvbiwge0ltYWdlVHJhbnNwYXJlbmN5ID0gMH0sIDAuMDUpCgkJCQllbmQKCQkJZW5kCgkJCQoJCQl3YWl0KDAuMDUpCgkJCQoJCQlmb3IgaSwgc2VjdGlvbiBpbiBwYWlycyhwYWdlLnNlY3Rpb25zKSBkbwoJCQkKCQkJCXV0aWxpdHk6VHdlZW4oc2VjdGlvbi5jb250YWluZXIuVGl0bGUsIHtUZXh0VHJhbnNwYXJlbmN5ID0gMH0sIDAuMSkKCQkJCXNlY3Rpb246UmVzaXplKHRydWUpCgkJCQkKCQkJCXdhaXQoMC4wNSkKCQkJZW5kCgkJCQoJCQl3YWl0KDAuMDUpCgkJCXBhZ2U6UmVzaXplKHRydWUpCgkJZWxzZQoJCQktLSBwYWdlIGJ1dHRvbgoJCQlidXR0b24uVGl0bGUuRm9udCA9IEVudW0uRm9udC5Hb3RoYW0KCQkJYnV0dG9uLlRpdGxlLlRleHRUcmFuc3BhcmVuY3kgPSAwLjY1CgkJCQoJCQlpZiBidXR0b246RmluZEZpcnN0Q2hpbGQoIkljb24iKSB0aGVuCgkJCQlidXR0b24uSWNvbi5JbWFnZVRyYW5zcGFyZW5jeSA9IDAuNjUKCQkJZW5kCgkJCQoJCQktLSBzZWN0aW9ucwoJCQlmb3IgaSwgc2VjdGlvbiBpbiBwYWlycyhwYWdlLnNlY3Rpb25zKSBkbwkKCQkJCXV0aWxpdHk6VHdlZW4oc2VjdGlvbi5jb250YWluZXIuUGFyZW50LCB7U2l6ZSA9IFVEaW0yLm5ldygxLCAtMTAsIDAsIDI4KX0sIDAuMSkKCQkJCXV0aWxpdHk6VHdlZW4oc2VjdGlvbi5jb250YWluZXIuVGl0bGUsIHtUZXh0VHJhbnNwYXJlbmN5ID0gMX0sIDAuMSkKCQkJZW5kCgkJCQoJCQl3YWl0KDAuMSkKCQkJCgkJCXBhZ2UubGFzdFBvc2l0aW9uID0gcGFnZS5jb250YWluZXIuQ2FudmFzUG9zaXRpb24uWQoJCQlwYWdlOlJlc2l6ZSgpCgkJZW5kCgllbmQKCQoJZnVuY3Rpb24gcGFnZTpSZXNpemUoc2Nyb2xsKQoJCWxvY2FsIHBhZGRpbmcgPSAxMAoJCWxvY2FsIHNpemUgPSAwCgkJCgkJZm9yIGksIHNlY3Rpb24gaW4gcGFpcnMoc2VsZi5zZWN0aW9ucykgZG8KCQkJc2l6ZSA9IHNpemUgKyBzZWN0aW9uLmNvbnRhaW5lci5QYXJlbnQuQWJzb2x1dGVTaXplLlkgKyBwYWRkaW5nCgkJZW5kCgkJCgkJc2VsZi5jb250YWluZXIuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCBzaXplKQoJCXNlbGYuY29udGFpbmVyLlNjcm9sbEJhckltYWdlVHJhbnNwYXJlbmN5ID0gc2l6ZSA+IHNlbGYuY29udGFpbmVyLkFic29sdXRlU2l6ZS5ZCgkJCgkJaWYgc2Nyb2xsIHRoZW4KCQkJdXRpbGl0eTpUd2VlbihzZWxmLmNvbnRhaW5lciwge0NhbnZhc1Bvc2l0aW9uID0gVmVjdG9yMi5uZXcoMCwgc2VsZi5sYXN0UG9zaXRpb24gb3IgMCl9LCAwLjIpCgkJZW5kCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjpSZXNpemUoc21vb3RoKQoJCgkJaWYgc2VsZi5wYWdlLmxpYnJhcnkuZm9jdXNlZFBhZ2Ugfj0gc2VsZi5wYWdlIHRoZW4KCQkJcmV0dXJuCgkJZW5kCgkJCgkJbG9jYWwgcGFkZGluZyA9IDQKCQlsb2NhbCBzaXplID0gKDQgKiBwYWRkaW5nKSArIHNlbGYuY29udGFpbmVyLlRpdGxlLkFic29sdXRlU2l6ZS5ZIC0tIG9mZnNldAoJCQoJCWZvciBpLCBtb2R1bGUgaW4gcGFpcnMoc2VsZi5tb2R1bGVzKSBkbwoJCQlzaXplID0gc2l6ZSArIG1vZHVsZS5BYnNvbHV0ZVNpemUuWSArIHBhZGRpbmcKCQllbmQKCQkKCQlpZiBzbW9vdGggdGhlbgoJCQl1dGlsaXR5OlR3ZWVuKHNlbGYuY29udGFpbmVyLlBhcmVudCwge1NpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAwLCBzaXplKX0sIDAuMDUpCgkJZWxzZQoJCQlzZWxmLmNvbnRhaW5lci5QYXJlbnQuU2l6ZSA9IFVEaW0yLm5ldygxLCAtMTAsIDAsIHNpemUpCgkJCXNlbGYucGFnZTpSZXNpemUoKQoJCWVuZAoJZW5kCgkKCWZ1bmN0aW9uIHNlY3Rpb246Z2V0TW9kdWxlKGluZm8pCgkKCQlpZiB0YWJsZS5maW5kKHNlbGYubW9kdWxlcywgaW5mbykgdGhlbgoJCQlyZXR1cm4gaW5mbwoJCWVuZAoJCQoJCWZvciBpLCBtb2R1bGUgaW4gcGFpcnMoc2VsZi5tb2R1bGVzKSBkbwoJCQlpZiAobW9kdWxlOkZpbmRGaXJzdENoaWxkKCJUaXRsZSIpIG9yIG1vZHVsZTpGaW5kRmlyc3RDaGlsZCgiVGV4dEJveCIsIHRydWUpKS5UZXh0ID09IGluZm8gdGhlbgoJCQkJcmV0dXJuIG1vZHVsZQoJCQllbmQKCQllbmQKCQkKCQllcnJvcigiTm8gbW9kdWxlIGZvdW5kIHVuZGVyICIuLnRvc3RyaW5nKGluZm8pKQoJZW5kCgkKCS0tIHVwZGF0ZXMKCQoJZnVuY3Rpb24gc2VjdGlvbjp1cGRhdGVCdXR0b24oYnV0dG9uLCB0aXRsZSkKCQlidXR0b24gPSBzZWxmOmdldE1vZHVsZShidXR0b24pCgkJCgkJYnV0dG9uLlRpdGxlLlRleHQgPSB0aXRsZQoJZW5kCgkKCWZ1bmN0aW9uIHNlY3Rpb246dXBkYXRlVG9nZ2xlKHRvZ2dsZSwgdGl0bGUsIHZhbHVlKQoJCXRvZ2dsZSA9IHNlbGY6Z2V0TW9kdWxlKHRvZ2dsZSkKCQkKCQlsb2NhbCBwb3NpdGlvbiA9IHsKCQkJSW4gPSBVRGltMi5uZXcoMCwgMiwgMC41LCAtNiksCgkJCU91dCA9IFVEaW0yLm5ldygwLCAyMCwgMC41LCAtNikKCQl9CgkJCgkJbG9jYWwgZnJhbWUgPSB0b2dnbGUuQnV0dG9uLkZyYW1lCgkJdmFsdWUgPSB2YWx1ZSBhbmQgIk91dCIgb3IgIkluIgoJCQoJCWlmIHRpdGxlIHRoZW4KCQkJdG9nZ2xlLlRpdGxlLlRleHQgPSB0aXRsZQoJCWVuZAoJCQoJCXV0aWxpdHk6VHdlZW4oZnJhbWUsIHsKCQkJU2l6ZSA9IFVEaW0yLm5ldygxLCAtMjIsIDEsIC05KSwKCQkJUG9zaXRpb24gPSBwb3NpdGlvblt2YWx1ZV0gKyBVRGltMi5uZXcoMCwgMCwgMCwgMi41KQoJCX0sIDAuMikKCQkKCQl3YWl0KDAuMSkKCQl1dGlsaXR5OlR3ZWVuKGZyYW1lLCB7CgkJCVNpemUgPSBVRGltMi5uZXcoMSwgLTIyLCAxLCAtNCksCgkJCVBvc2l0aW9uID0gcG9zaXRpb25bdmFsdWVdCgkJfSwgMC4xKQoJZW5kCgkKCWZ1bmN0aW9uIHNlY3Rpb246dXBkYXRlVGV4dGJveCh0ZXh0Ym94LCB0aXRsZSwgdmFsdWUpCgkJdGV4dGJveCA9IHNlbGY6Z2V0TW9kdWxlKHRleHRib3gpCgkJCgkJaWYgdGl0bGUgdGhlbgoJCQl0ZXh0Ym94LlRpdGxlLlRleHQgPSB0aXRsZQoJCWVuZAoJCQoJCWlmIHZhbHVlIHRoZW4KCQkJdGV4dGJveC5CdXR0b24uVGV4dGJveC5UZXh0ID0gdmFsdWUKCQllbmQKCQkKCWVuZAoJCglmdW5jdGlvbiBzZWN0aW9uOnVwZGF0ZUtleWJpbmQoa2V5YmluZCwgdGl0bGUsIGtleSkKCQlrZXliaW5kID0gc2VsZjpnZXRNb2R1bGUoa2V5YmluZCkKCQkKCQlsb2NhbCB0ZXh0ID0ga2V5YmluZC5CdXR0b24uVGV4dAoJCWxvY2FsIGJpbmQgPSBzZWxmLmJpbmRzW2tleWJpbmRdCgkJCgkJaWYgdGl0bGUgdGhlbgoJCQlrZXliaW5kLlRpdGxlLlRleHQgPSB0aXRsZQoJCWVuZAoJCQoJCWlmIGJpbmQuY29ubmVjdGlvbiB0aGVuCgkJCWJpbmQuY29ubmVjdGlvbiA9IGJpbmQuY29ubmVjdGlvbjpVbkJpbmQoKQoJCWVuZAoJCQkKCQlpZiBrZXkgdGhlbgoJCQlzZWxmLmJpbmRzW2tleWJpbmRdLmNvbm5lY3Rpb24gPSB1dGlsaXR5OkJpbmRUb0tleShrZXksIGJpbmQuY2FsbGJhY2spCgkJCXRleHQuVGV4dCA9IGtleS5OYW1lCgkJZWxzZQoJCQl0ZXh0LlRleHQgPSAiTm9uZSIKCQllbmQKCWVuZAoJCglmdW5jdGlvbiBzZWN0aW9uOnVwZGF0ZUNvbG9yUGlja2VyKGNvbG9ycGlja2VyLCB0aXRsZSwgY29sb3IpCgkJY29sb3JwaWNrZXIgPSBzZWxmOmdldE1vZHVsZShjb2xvcnBpY2tlcikKCQkKCQlsb2NhbCBwaWNrZXIgPSBzZWxmLmNvbG9ycGlja2Vyc1tjb2xvcnBpY2tlcl0KCQlsb2NhbCB0YWIgPSBwaWNrZXIudGFiCgkJbG9jYWwgY2FsbGJhY2sgPSBwaWNrZXIuY2FsbGJhY2sKCQkKCQlpZiB0aXRsZSB0aGVuCgkJCWNvbG9ycGlja2VyLlRpdGxlLlRleHQgPSB0aXRsZQoJCQl0YWIuVGl0bGUuVGV4dCA9IHRpdGxlCgkJZW5kCgkJCgkJbG9jYWwgY29sb3IzCgkJbG9jYWwgaHVlLCBzYXQsIGJyaWdodG5lc3MKCQkKCQlpZiB0eXBlKGNvbG9yKSA9PSAidGFibGUiIHRoZW4gLS0gcm9ibG94IGlzIGxpdGVyYWxseSByZXRhcmRlZCB4MgoJCQlodWUsIHNhdCwgYnJpZ2h0bmVzcyA9IHVucGFjayhjb2xvcikKCQkJY29sb3IzID0gQ29sb3IzLmZyb21IU1YoaHVlLCBzYXQsIGJyaWdodG5lc3MpCgkJZWxzZQoJCQljb2xvcjMgPSBjb2xvcgoJCQlodWUsIHNhdCwgYnJpZ2h0bmVzcyA9IENvbG9yMy50b0hTVihjb2xvcjMpCgkJZW5kCgkJCgkJdXRpbGl0eTpUd2Vlbihjb2xvcnBpY2tlci5CdXR0b24sIHtJbWFnZUNvbG9yMyA9IGNvbG9yM30sIDAuNSkKCQl1dGlsaXR5OlR3ZWVuKHRhYi5Db250YWluZXIuQ29sb3IuU2VsZWN0LCB7UG9zaXRpb24gPSBVRGltMi5uZXcoaHVlLCAwLCAwLCAwKX0sIDAuMSkKCQkKCQl1dGlsaXR5OlR3ZWVuKHRhYi5Db250YWluZXIuQ2FudmFzLCB7SW1hZ2VDb2xvcjMgPSBDb2xvcjMuZnJvbUhTVihodWUsIDEsIDEpfSwgMC41KQoJCXV0aWxpdHk6VHdlZW4odGFiLkNvbnRhaW5lci5DYW52YXMuQ3Vyc29yLCB7UG9zaXRpb24gPSBVRGltMi5uZXcoc2F0LCAwLCAxIC0gYnJpZ2h0bmVzcyl9LCAwLjUpCgkJCgkJZm9yIGksIGNvbnRhaW5lciBpbiBwYWlycyh0YWIuQ29udGFpbmVyLklucHV0czpHZXRDaGlsZHJlbigpKSBkbwoJCQlpZiBjb250YWluZXI6SXNBKCJJbWFnZUxhYmVsIikgdGhlbgoJCQkJbG9jYWwgdmFsdWUgPSBtYXRoLmNsYW1wKGNvbG9yM1tjb250YWluZXIuTmFtZV0sIDAsIDEpICogMjU1CgkJCQkKCQkJCWNvbnRhaW5lci5UZXh0Ym94LlRleHQgPSBtYXRoLmZsb29yKHZhbHVlKQoJCQkJLS1jYWxsYmFjayhjb250YWluZXIuTmFtZTpsb3dlcigpLCB2YWx1ZSkKCQkJZW5kCgkJZW5kCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjp1cGRhdGVTbGlkZXIoc2xpZGVyLCB0aXRsZSwgdmFsdWUsIG1pbiwgbWF4LCBsdmFsdWUpCgkJc2xpZGVyID0gc2VsZjpnZXRNb2R1bGUoc2xpZGVyKQoJCQoJCWlmIHRpdGxlIHRoZW4KCQkJc2xpZGVyLlRpdGxlLlRleHQgPSB0aXRsZQoJCWVuZAoJCQoJCWxvY2FsIGJhciA9IHNsaWRlci5TbGlkZXIuQmFyCgkJbG9jYWwgcGVyY2VudCA9IChtb3VzZS5YIC0gYmFyLkFic29sdXRlUG9zaXRpb24uWCkgLyBiYXIuQWJzb2x1dGVTaXplLlgKCQkKCQlpZiB2YWx1ZSB0aGVuIC0tIHN1cHBvcnQgbmVnYXRpdmUgcmFuZ2VzCgkJCXBlcmNlbnQgPSAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbikKCQllbmQKCQkKCQlwZXJjZW50ID0gbWF0aC5jbGFtcChwZXJjZW50LCAwLCAxKQoJCXZhbHVlID0gdmFsdWUgb3IgbWF0aC5mbG9vcihtaW4gKyAobWF4IC0gbWluKSAqIHBlcmNlbnQpCgkJCgkJc2xpZGVyLlRleHRCb3guVGV4dCA9IHZhbHVlCgkJdXRpbGl0eTpUd2VlbihiYXIuRmlsbCwge1NpemUgPSBVRGltMi5uZXcocGVyY2VudCwgMCwgMSwgMCl9LCAwLjEpCgkJCgkJaWYgdmFsdWUgfj0gbHZhbHVlIGFuZCBzbGlkZXIuSW1hZ2VUcmFuc3BhcmVuY3kgPT0gMCB0aGVuCgkJCXV0aWxpdHk6UG9wKHNsaWRlciwgMTApCgkJZW5kCgkJCgkJcmV0dXJuIHZhbHVlCgllbmQKCQoJZnVuY3Rpb24gc2VjdGlvbjp1cGRhdGVEcm9wZG93bihkcm9wZG93biwgdGl0bGUsIGxpc3QsIGNhbGxiYWNrKQoJCWRyb3Bkb3duID0gc2VsZjpnZXRNb2R1bGUoZHJvcGRvd24pCgkJCgkJaWYgdGl0bGUgdGhlbgoJCQlkcm9wZG93bi5TZWFyY2guVGV4dEJveC5UZXh0ID0gdGl0bGUKCQllbmQKCQkKCQlsb2NhbCBlbnRyaWVzID0gMAoJCQoJCXV0aWxpdHk6UG9wKGRyb3Bkb3duLlNlYXJjaCwgMTApCgkJCgkJZm9yIGksIGJ1dHRvbiBpbiBwYWlycyhkcm9wZG93bi5MaXN0LkZyYW1lOkdldENoaWxkcmVuKCkpIGRvCgkJCWlmIGJ1dHRvbjpJc0EoIkltYWdlQnV0dG9uIikgdGhlbgoJCQkJYnV0dG9uOkRlc3Ryb3koKQoJCQllbmQKCQllbmQKCQkJCgkJZm9yIGksIHZhbHVlIGluIHBhaXJzKGxpc3Qgb3Ige30pIGRvCgkJCWxvY2FsIGJ1dHRvbiA9IHV0aWxpdHk6Q3JlYXRlKCJJbWFnZUJ1dHRvbiIsIHsKCQkJCVBhcmVudCA9IGRyb3Bkb3duLkxpc3QuRnJhbWUsCgkJCQlCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMSwKCQkJCUJvcmRlclNpemVQaXhlbCA9IDAsCgkJCQlTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIDMwKSwKCQkJCVpJbmRleCA9IDIsCgkJCQlJbWFnZSA9ICJyYnhhc3NldGlkOi8vNTAyODg1NzQ3MiIsCgkJCQlJbWFnZUNvbG9yMyA9IHRoZW1lcy5EYXJrQ29udHJhc3QsCgkJCQlTY2FsZVR5cGUgPSBFbnVtLlNjYWxlVHlwZS5TbGljZSwKCQkJCVNsaWNlQ2VudGVyID0gUmVjdC5uZXcoMiwgMiwgMjk4LCAyOTgpCgkJCX0sIHsKCQkJCXV0aWxpdHk6Q3JlYXRlKCJUZXh0TGFiZWwiLCB7CgkJCQkJQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEsCgkJCQkJUG9zaXRpb24gPSBVRGltMi5uZXcoMCwgMTAsIDAsIDApLAoJCQkJCVNpemUgPSBVRGltMi5uZXcoMSwgLTEwLCAxLCAwKSwKCQkJCQlaSW5kZXggPSAzLAoJCQkJCUZvbnQgPSBFbnVtLkZvbnQuR290aGFtLAoJCQkJCVRleHQgPSB2YWx1ZSwKCQkJCQlUZXh0Q29sb3IzID0gdGhlbWVzLlRleHRDb2xvciwKCQkJCQlUZXh0U2l6ZSA9IDEyLAoJCQkJCVRleHRYQWxpZ25tZW50ID0gIkxlZnQiLAoJCQkJCVRleHRUcmFuc3BhcmVuY3kgPSAwLjEwMDAwMDAwMTQ5MDEyCgkJCQl9KQoJCQl9KQoJCQkKCQkJYnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJaWYgY2FsbGJhY2sgdGhlbgoJCQkJCWNhbGxiYWNrKHZhbHVlLCBmdW5jdGlvbiguLi4pCgkJCQkJCXNlbGY6dXBkYXRlRHJvcGRvd24oZHJvcGRvd24sIC4uLikKCQkJCQllbmQpCQoJCQkJZW5kCgoJCQkJc2VsZjp1cGRhdGVEcm9wZG93bihkcm9wZG93biwgdmFsdWUsIG5pbCwgY2FsbGJhY2spCgkJCWVuZCkKCQkJCgkJCWVudHJpZXMgPSBlbnRyaWVzICsgMQoJCWVuZAoJCQoJCWxvY2FsIGZyYW1lID0gZHJvcGRvd24uTGlzdC5GcmFtZQoJCQoJCXV0aWxpdHk6VHdlZW4oZHJvcGRvd24sIHtTaXplID0gVURpbTIubmV3KDEsIDAsIDAsIChlbnRyaWVzID09IDAgYW5kIDMwKSBvciBtYXRoLmNsYW1wKGVudHJpZXMsIDAsIDMpICogMzQgKyAzOCl9LCAwLjMpCgkJdXRpbGl0eTpUd2Vlbihkcm9wZG93bi5TZWFyY2guQnV0dG9uLCB7Um90YXRpb24gPSBsaXN0IGFuZCAxODAgb3IgMH0sIDAuMykKCQkKCQlpZiBlbnRyaWVzID4gMyB0aGVuCgkJCgkJCWZvciBpLCBidXR0b24gaW4gcGFpcnMoZHJvcGRvd24uTGlzdC5GcmFtZTpHZXRDaGlsZHJlbigpKSBkbwoJCQkJaWYgYnV0dG9uOklzQSgiSW1hZ2VCdXR0b24iKSB0aGVuCgkJCQkJYnV0dG9uLlNpemUgPSBVRGltMi5uZXcoMSwgLTYsIDAsIDMwKQoJCQkJZW5kCgkJCWVuZAoJCQkKCQkJZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAoZW50cmllcyAqIDM0KSAtIDQpCgkJCWZyYW1lLlNjcm9sbEJhckltYWdlVHJhbnNwYXJlbmN5ID0gMAoJCWVsc2UKCQkJZnJhbWUuQ2FudmFzU2l6ZSA9IFVEaW0yLm5ldygwLCAwLCAwLCAwKQoJCQlmcmFtZS5TY3JvbGxCYXJJbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQllbmQKCWVuZAplbmQKCnByaW50KCJmb3IgZnVjayBzYWtlcyB1bmZhaXIgd2h5IGNhbid0IHlvdSBkbyBhbnl0aGluZyByaWdodCIpCnJldHVybiBsaWJyYXJ5Cg==')
};


local fakeResponse
replaceclosure(syn.request, function(...)
	local self = ...
	if ReplyMap[self.Url] then
		fakeResponse.Body = ReplyMap[self.Url]
	end
	return fakeResponse
end)

-- Warning! skidded shit, don't forget to bleach your eyes
local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/snowyhublib.lua"))()
local Library = library.new("Snowy Hub")
game:service("Players").LocalPlayer.Idled:connect(function()
	warn("anti-afk")
	va:CaptureController()
	va:ClickButton2(Vector2.new())
end)
game:GetService("RunService").RenderStepped:connect(function()
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.SideMenu.Tutorial.TextLabel.Text = "Snowy Hub"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.SideMenu.Stats.TextLabel.Text = "Stats"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.SideMenu.Skills.TextLabel.Text = "Abilities"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.SideMenu.Shop.TextLabel.Text = "Shop"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.SideMenu.Character.TextLabel.Text = "Char"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Shop.KiAttacks.TextLabel.Text = "Ki Moves"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Shop.Melee.TextLabel.Text = "Melee Moves"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Shop.Transform.TextLabel.Text = "Transformations"
	game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats.Labvel.TextLabel.Text = "STATS"
end)
local MainPage = Library:addPage("Main", 5012544693)
local Main = MainPage:addSection("Main")
Main:addSlider("Tele Speed", 1, 100, 14500, function(telespeed)
	_G.TeleSpeed_Bind = "Q"
	down = false
	velocity = Instance.new("BodyVelocity")
	velocity.maxForce = Vector3.new(10000000, 0, 10000000)
	local speed = telespeed
	gyro = Instance.new("BodyGyro")
	gyro.maxTorque = Vector3.new(10000000, 0, 10000000)
	local hum = game.Players.LocalPlayer.Character.Humanoid
	function onButton1Down(mouse)
		down = true
		velocity.Parent = game.Players.LocalPlayer.Character.UpperTorso
		velocity.velocity = (hum.MoveDirection) * speed
		gyro.Parent = game.Players.LocalPlayer.Character.UpperTorso
		while down do
			if not down then
				break
			end
			velocity.velocity = (hum.MoveDirection) * speed
			local refpos = gyro.Parent.Position + (gyro.Parent.Position - workspace.CurrentCamera.CoordinateFrame.p).unit * 5
			gyro.cframe = CFrame.new(gyro.Parent.Position, Vector3.new(refpos.x, gyro.Parent.Position.y, refpos.z))
			wait(0.1)
		end
	end
	function onButton1Up(mouse)
		velocity.Parent = nil
		gyro.Parent = nil
		down = false
	end
	function onSelected(mouse)
		mouse.KeyDown:connect(function(k)
			if k:upper() == _G.TeleSpeed_Bind then
				onButton1Down(mouse)
			end
		end)
		mouse.KeyUp:connect(function(k)
			if k:upper() == _G.TeleSpeed_Bind then
				onButton1Up(mouse)
			end
		end)
	end
	onSelected(game.Players.LocalPlayer:GetMouse())
end)
Main:addToggle("No Slow", nil, function(noslow)
	if noslow == true then
		Slow = game:GetService("RunService").Stepped:Connect(function()
			if game.Players.LocalPlayer.Character:FindFirstChild("Action") then
				game.Players.LocalPlayer.Character:FindFirstChild("Action"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Attacking") then
				game.Players.LocalPlayer.Character:FindFirstChild("Attacking"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Activity") then
				game.Players.LocalPlayer.Character:FindFirstChild("Activity"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Using") then
				game.Players.LocalPlayer.Character:FindFirstChild("Using"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("hyper") then
				game.Players.LocalPlayer.Character:FindFirstChild("hyper"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Hyper") then
				game.Players.LocalPlayer.Character:FindFirstChild("Hyper"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("heavy") then
				game.Players.LocalPlayer.Character:FindFirstChild("heavy"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("KiBlasted") then
				game.Players.LocalPlayer.Character:FindFirstChild("KiBlasted"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Tele") then
				game.Players.LocalPlayer.Character:FindFirstChild("Tele"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("tele") then
				game.Players.LocalPlayer.Character:FindFirstChild("tele"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Killed") then
				game.Players.LocalPlayer.Character:FindFirstChild("Killed"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Slow") then
				game.Players.LocalPlayer.Character:FindFirstChild("Slow"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("Blocked") then
				game.Players.LocalPlayer.Character:FindFirstChild("Blocked"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("MoveStart") then
				game.Players.LocalPlayer.Character:FindFirstChild("MoveStart"):Destroy()
			end
			if game.Players.LocalPlayer.Character:FindFirstChild("NotHardBack") then
				game.Players.LocalPlayer.Character:FindFirstChild("NotHardBack"):Destroy()
			end
		end)
	else
		Slow:Disconnect()
	end
end)
Main:addDropdown("Slot Changer", {
	"Slot1",
	"Slot2",
	"Slot3"
}, function(a)
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart:FireServer(game:GetService("Workspace").FriendlyNPCs["Character Slot Changer"])
	wait(0.3)
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "Yes"
	})
	wait(0.3)
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "k"
	})
	wait(0.3)
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = a
	})
	wait(0.3);
	(nil):FireServer({
		[1] = "k"
	})
end)
Main:addToggle("Bean Spam", nil, function(a)
	if a == true then
		Spam = true
		while Spam do
			wait()
			game.Players.LocalPlayer.Backpack.ServerTraits.EatSenzu:FireServer(true)
		end
	else
		Spam = false
	end
end)
Main:addButton("No Flying Ki-Drain", function()
end)
Main:addToggle("Stay In Form", nil, function(a)
	if a == true then
		if not a then
			game.Players.LocalPlayer.Character.HumanoidRootPart.SaiyanAuraWeak:Destroy()
		end
		if game.Players.LocalPlayer.Character.HumanoidRootPart:FindFirstChild("MajinParticle") then
			game.Players.LocalPlayer.Character.HumanoidRootPart.MajinParticle:Destroy()
		end
		if game.Players.LocalPlayer.Character.HumanoidRootPart:FindFirstChild("Lightning2") then
			game.Players.LocalPlayer.Character.HumanoidRootPart.Lightning2:Destroy()
		end
		if not a then
			game.Players.LocalPlayer.Character.SaiyanHair:Destroy()
		end
		if not a then
			game.Players.LocalPlayer.Character.Head.Tatoo:Destroy()
		end
		if game.Players.LocalPlayer.Character.HumanoidRootPart:FindFirstChild("MajinAura") then
			game.Players.LocalPlayer.Character.HumanoidRootPart.MajinAura:Destroy()
		end
	else
		game.Players.LocalPlayer.Character.Humanoid.Health = 0
	end
end)
local GodModes = MainPage:addSection("God Modes")
GodModes:addToggle("Rainbow Hair Godmode", nil, function(a)
	game.Workspace.Live[game.Players.LocalPlayer.name].Parent = game.Workspace.Effects
	wait()
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart:FireServer(game:GetService("Workspace").FriendlyNPCs["Hair Stylist"])
	wait(0.3)
	game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer(unpack({
		[1] = {
			[1] = "Yes"
		}
	}))
	game:GetService("RunService").RenderStepped:connect(function()
		game:GetService("Players").LocalPlayer.PlayerGui.Setup.Enabled = false
		game:GetService("Players").LocalPlayer.Backpack.HairScript.RemoteEvent:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.Setup.Frame.Side.HairColor, "up")
		game:GetService("Players").LocalPlayer.Backpack.HairScript.RemoteEvent:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.Setup.Frame.Side.Skin, "up")
		game:GetService("Players").LocalPlayer.Backpack.HairScript.RemoteEvent:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.Setup.Frame.Side.Hair, "up")
	end)
end)
GodModes:addToggle("Earth Godmode", nil, function(a)
	if a == true then
		va = game:GetService("RunService").RenderStepped:Connect(function()
			firetouchinterest(va, vb, 0)
			firetouchinterest(va, vb, 1)
			if not game.Players.LocalPlayer.PlayerGui then
				game.Players.LocalPlayer.PlayerGui.Popup:Destroy()
			end
		end)
	else
		va:Disconnect()
		if game.Players.LocalPlayer.PlayerGui:FindFirstChild("Popup") then
			game.Players.LocalPlayer.PlayerGui.Popup:Destroy()
		end
	end
end)
GodModes:addButton("Ranked/HTC Godmode", function(a)
	game.Players.LocalPlayer.Character.Stats["Phys-Resist"]:Destroy()
	game.Players.LocalPlayer.Character.Stats["Ki-Resist"]:Destroy()
end)
local TopRespawn = MainPage:addSection("Top Respawn")
TopRespawn:addToggle("Top Respawn Loop", nil, function(a)
	if a == true then
		respawn = true
		repeat
			while not a do
				wait(0.05)
				game.Players.localPlayer.Character:FindFirstChild("SuperAction"):Destroy()
			end
		until not a
	else
		respawn = false
	end
end)
TopRespawn:addButton("TOP Respawn (L to revive K to tp out)", function()
	game:GetService("Players").LocalPlayer:GetMouse().KeyDown:connect(function(a)
		if a == "k" then
			game:GetService("TweenService"):Create(va.Character.HumanoidRootPart, TweenInfo.new(0, 3, Enum.EasingStyle.Linear), {
				CFrame = CFrame.new(100, 100, 100)
			}):Play()
		end
	end)
	game:GetService("Players").LocalPlayer:GetMouse().KeyDown:connect(function(a)
		if a == "l" then
			va.Character.SuperAction:Destroy()
		end
	end)
end)
local AnnoyingShit = MainPage:addSection("Annoying Shit")
AnnoyingShit:addToggle("Dragon Throw Stuck", nil, function(a)
	if a == true then
		if not game:GetService("Players") and game:GetService("Players"):FindFirstChildOfClass("Player").Character and not game:GetService("Players") and game.Players.LocalPlayer.Backpack:FindFirstChild("Dragon Throw") then
			game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid"):EquipTool((game.Players.LocalPlayer.Backpack:FindFirstChild("Dragon Throw")))
		end
		wait()
		if game.Players.LocalPlayer.Character:FindFirstChild("Dragon Throw") then
			game.Players.LocalPlayer.Character["Dragon Throw"].Activator.Flip:Destroy()
		end
		if not game:GetService("Players") then
			game.Players.LocalPlayer.Character["Dragon Throw"].Activator.Blocked:Destroy()
		end
	else
		game.Players.LocalPlayer.Character.Humanoid.Health = 0
	end
end)
AnnoyingShit:addToggle("Dragon Crush Stuck", nil, function(a)
	if a == true then
		if game:GetService("Players"):FindFirstChildOfClass("Player") and not game:GetService("Players") and not game:GetService("Players") and not game:GetService("Players") then
			game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid"):EquipTool((game.Players.LocalPlayer.Backpack:FindFirstChild("Dragon Crush")))
		end
		wait()
		if not game:GetService("Players") then
			game.Players.LocalPlayer.Character["Dragon Crush"].Activator.Flip:Destroy()
		end
		if game.Players.LocalPlayer.Character:FindFirstChild("Dragon Crush") then
			game.Players.LocalPlayer.Character["Dragon Crush"].Activator.Blocked:Destroy()
		end
	else
		game.Players.LocalPlayer.Character.Humanoid.Health = 0
	end
end)
AnnoyingShit:addButton("Server Destroyer", function()
	game:GetService("RunService").RenderStepped:connect(function()
		for fd, fe in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
			if fe.Name == "Energy Wave" or fe.Name == "Double Sunday" or fe.Name == "Destructo Disk" or fe.Name == "Explosive Wave" or fe.Name == "Kamehameha" or fe.Name == "Tribeam" or fe.Name == "Super Volley" or fe.Name == "Burning Attack" or fe.Name == "Big Bang Attack" or fe.Name == "Hellzone Grenade" or fe.Name == "Special Beam Cannon" or fe.Name == "Galic Gun" or fe.Name == "Spirit Ball" or fe.Name == "Burning Blast" or fe.Name == "Death Beam Barrage" or fe.Name == "Chain Destructo Disk" or fe.Name == "Heat Dome Attack" or fe.Name == "Light Grenade" or fe.Name == "Death Saucer" or fe.Name == "Final Flash" or fe.Name == "Giant Storm" or fe.Name == "Finish Breaker" or fe.Name == "Warp Kamehameha" or fe.Name == "Spirit Bomb" or fe.Name == "Crusher Ball" or fe.Name == "Big Bang Kamehameha" or fe.Name == "Sudden Storm" or fe.Name == "Demon Flash" or fe.Name == "Milky Cannon" or fe.Name == "Super Nova" or fe.Name == "Murder Grenade" or fe.Name == "Genocide Shell" or fe.Name == "Break Cannon" or fe.Name == "Super Spirit Bomb" or fe.Name == "Beam Scatter" or fe.Name == "Final Shine" or fe.Name == "Hell Pillars" or fe.Name == "Justice Flash" or fe.Name == "Final Kame" or fe.Name == "Pressure Gauge" or fe.Name == "Divine Lasso" or fe.Name == "Holy Wrath" or fe.Name == "Super Death Beam" or fe.Name == "Planet Crusher" or fe.Name == "Blaster Meteor" or fe.Name == "Broly Kamehameha" or fe.Name == "Gigantic Breath" or fe.Name == "Eraser Cannon" or fe.Name == "Buu Blaster" or fe.Name == "Death Beam" or fe.Name == "Double Buster" or fe.Name == "Unrelenting Volley" or fe.Name == "Dark Beam" or fe.Name == "KKx4 Kamehameha" or fe.Name == "Flame Kamehameha" or fe.Name == "One-Hand Kamehameha" or fe.Name == "Explosive Grip" then
				fe.Parent = game.Players.LocalPlayer.Character
				fe:Activate()
				fe:Deactivate()
				wait(0.3)
				fe.Parent = game.Players.LocalPlayer.Backpack
			end
		end
	end)
end)
local Other = MainPage:addSection("Other")
Other:addButton("Free Nimbus", function()
	va = game.Players.LocalPlayer
	char = va.Character
	part = Instance.new("Part", char)
	function NimbusFunction(a)
		part.Name = a
	end
	NimbusFunction("Nimbus")
end)
Other:addButton("Dark Theme Chat", function()
	va = game.Players.LocalPlayer
	char = va.Character
	part = Instance.new("Folder", char)
	function DarkChatFunction(a)
		part.Name = a
	end
	DarkChatFunction("DarkTheme")
end)
Other:addColorPicker("Wing/Halo Color", Color3.new(0, 0, 0), function(a)
	if not a then
		game.Players.LocalPlayer.Character.RebirthWings.Handle.Color = a
	elseif game.Players.LocalPlayer.Character:FindFirstChild("RealHalo") then
		game.Players.LocalPlayer.Character.RealHalo.Handle.Color = a
	end
end)
local TeleportationPage = Library:addPage("Teleportation", 5012544693)
local PadTeleportation = TeleportationPage:addSection("Pad Teleportations")
PadTeleportation:addButton("Broly Pad", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(2751.67725, 3944.85986, -2272.62622)
	}):Play()
end)
PadTeleportation:addButton("TOP Pad", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(2508.15, 3945.41, -2029.8)
	}):Play()
end)
PadTeleportation:addButton("Hard TOP Pad", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(2510.97656, 3944.75, -2527.53125)
	}):Play()
end)
local Teleportations = TeleportationPage:addSection("Teleportations")
Teleportations:addButton("Earth", function()
	game:GetService("TeleportService"):Teleport(536102540, game.Players.LocalPlayer)
end)
Teleportations:addButton("Namek", function()
	game:GetService("TeleportService"):Teleport(882399924, game.Players.LocalPlayer)
end)
Teleportations:addButton("Space", function()
	game:GetService("TeleportService"):Teleport(478132461, game.Players.LocalPlayer)
end)
Teleportations:addButton("Future", function()
	game:GetService("TeleportService"):Teleport(569994010, game.Players.LocalPlayer)
end)
Teleportations:addButton("Secret World", function()
	game:GetService("TeleportService"):Teleport(2046990924, game.Players.LocalPlayer)
end)
Teleportations:addButton("Queue World", function()
	game:GetService("TeleportService"):Teleport(3565304751, game.Players.LocalPlayer)
end)
Teleportations:addButton("HTC", function()
	game:GetService("TeleportService"):Teleport(882375367, game.Players.LocalPlayer)
end)
Teleportations:addButton("Zaros", function()
	game:GetService("TeleportService"):Teleport(2651456105, game.Players.LocalPlayer)
end)
Teleportations:addButton("Heaven", function()
	game:GetService("TeleportService"):Teleport(3552157537, game.Players.LocalPlayer)
end)
local CityTeleportations = TeleportationPage:addSection("City Teleportations")
CityTeleportations:addButton("South City", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(-456, 616272, 24, 4875565, -6411, 93945, 1, 0, 0, 0, 1, 0, 0, 0, 1)
	}):Play()
end)
CityTeleportations:addButton("West City", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(-570, 783386, 19, 4874763, -2884, 49414, 1, 0, 0, 0, 1, 0, 0, 0, 1)
	}):Play()
end)
CityTeleportations:addButton("Korin Tower", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(2036, 96008, 1493, 73865, -2287, 70313, -0, 560825825, 0, 219532698, -0, 798298001, -0, 391403764, -0, 919956446, 0, 0219828039, -0, 729573488, 0, 324785352, 0, 601861298)
	}):Play()
end)
CityTeleportations:addButton("Central City", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(-3834, 28442, 19, 4875641, -1428, 18091, 1, 0, 0, 0, 1, 0, 0, 0, 1)
	}):Play()
end)
CityTeleportations:addButton("Goku's House", function()
	game:GetService("TweenService"):Create(game:GetService("Players").LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(2, Enum.EasingStyle.Quad), {
		CFrame = CFrame.new(-5946, 98193, 18, 687664, -4229, 69336, 1, 0, 0, 0, 1, 0, 0, 0, 1)
	}):Play()
end)
repeat wait()
until game:IsLoaded()
for i, v in pairs(game:GetService("Workspace").Live:GetChildren()) do
	if v.Name == "Big Snake" then
		v:Destroy()
	end
end
local AutoFarmPage = Library:addPage("AutoFarm", 5012544693)
local AutoFarm = AutoFarmPage:addSection("AutoFarm")
AutoFarm:addButton("Recommended Farm", function()
	game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC1.Button.Textbox.Text = "Saiba"
	game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC2.Button.Textbox.Text = "Saiyan"
	game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC3.Button.Textbox.Text = "Chi"
	game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC4.Button.Textbox.Text = "Boxer"
end)
AutoFarm:addTextbox("NPC1", "", function(a)
	NPCS1 = a;
end)
AutoFarm:addTextbox("NPC2", "", function(a)
	NPC2 = a;
end)
AutoFarm:addTextbox("NPC3", "", function(a)
	NPCS3 = a;
end)
AutoFarm:addTextbox("NPC4", "", function(a)
	NPCS4 = a;
end)
game.CoreGui["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.Textbox.Name = "NPC1"
game.CoreGui["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.Textbox.Name = "NPC2"
game.CoreGui["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.Textbox.Name = "NPC3"
game.CoreGui["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.Textbox.Name = "NPC4"
local AutoFarmSettings = AutoFarmPage:addSection("Settings")
AutoFarmSettings:addToggle("Auto Attack", nil, function(AutoAttack)
	if AutoAttack then
		Auto_Attack = true
		while Auto_Attack == true do
			wait(.3)
			if Auto_Attack == true and Target then
				if (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - Target.HumanoidRootPart.Position).magnitude < 13 and game.PlaceId == 536102540 then
					game.Players.LocalPlayer.Backpack.ServerTraits.Input:FireServer({
						[1] = "md"
					}, CFrame.new(0, 0, 0), nil, false)
				elseif (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - Target.HumanoidRootPart.Position).magnitude < 13 and game.PlaceId ~= 536102540 then
					game.Players.LocalPlayer.Backpack.ServerTraits.Input:FireServer({
						[1] = "md"
					}, CFrame.new(0, 0, 0), nil, false)
				end
			end
		end
	else
		Auto_Attack = false
	end
end)
AutoFarmSettings:addToggle("Reset Ki", nil, function(a)
	if a == true then
		_G.RESETSTAM = true
		repeat
			wait()
			if game:GetService("Players").LocalPlayer.Character.Ki.Value <= 100 and Target then
				game:GetService("ReplicatedStorage").ResetChar:FireServer()
			end
		until _G.RESETSTAM == false
	else
		_G.RESETSTAM = false
	end
end)
local fuckufuckingskidassskidnig
AutoFarmSettings:addToggle("Start Auto Farm", nil, function(a)
	fuckufuckingskidassskidnig = a
	if a then
		local NPCS = {
			game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC1.Button.Textbox.Text,
			game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC2.Button.Textbox.Text,
			game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC3.Button.Textbox.Text,
			game:GetService("CoreGui")["Snowy Hub"].Main.AutoFarm.AutoFarm.Container.NPC4.Button.Textbox.Text
		}
		local NPCNUMBER = 1
		while fuckufuckingskidassskidnig == true and wait() do
			for _, v in pairs(game.Workspace.Live:GetChildren()) do
				if v.Name:find(NPCS[NPCNUMBER]) and string.len(NPCS[NPCNUMBER]) > 2 and v.Humanoid.Health > 1 then
					Target = v
					repeat
						game:GetService("RunService").RenderStepped:Wait()
						if fuckufuckingskidassskidnig == true then
							if 1 >= game.Players.LocalPlayer.Character.Humanoid.Health then
								repeat
									wait()
								until 1 < game.Players.LocalPlayer.Character.Humanoid.Health
							end
							game.Players.LocalPlayer.Character.Humanoid:ChangeState(11)
							local Time
							game.Workspace.CurrentCamera.CFrame = CFrame.new(game.Players.LocalPlayer.Character.HumanoidRootPart.Position, Vector3.new(v.HumanoidRootPart.Position.X, game.Players.LocalPlayer.Character.HumanoidRootPart.Position.Y, v.HumanoidRootPart.Position.Z)) * CFrame.new(0, 2, 10)
							Time = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position).magnitude / 10000
							game:GetService("TweenService"):Create(game.Players.LocalPlayer.Character.HumanoidRootPart, TweenInfo.new(Time, Enum.EasingStyle.Linear, Enum.EasingDirection.In), {
								CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 0, 2)
							}):Play()
						end
					until v.Humanoid.Health <= 0.01 or fuckufuckingskidassskidnig == false
				end
			end
			if NPCNUMBER ~= 4 then
				NPCNUMBER = NPCNUMBER + 1
			elseif NPCNUMBER == 4 then
				NPCNUMBER = 1
			end
		end
	else
		Target = nil
	end
end)
local Moves = AutoFarmPage:addSection("Moves")
Moves:addButton("Recommended Melee Moves", function()
	m_1.Button.Textbox.Text = "Wolf Fang Fist"
	m_2.Button.Textbox.Text = "Deadly Dance"
	m_3.Button.Textbox.Text = "Mach Kick"
	m_4.Button.Textbox.Text = "Anger Rush"
	m_5.Button.Textbox.Text = "Neo Wolf Fang Fist"
	m_6.Button.Textbox.Text = "Meteor Crash"
	m_7.Button.Textbox.Text = "Spirit Bomb Sword"
	m_7.Button.Textbox.Text = "Flash Skewer"
	m_8.Button.Textbox.Text = "TS Molotov"
	m_9.Button.Textbox.Text = "Sweep Kick"
end)
m_1 = Moves:addTextbox("Move1", "", function(a)
	va = a
end)
m_2 = Moves:addTextbox("Move2", "", function(a)
	va = a
end)
m_3 = Moves:addTextbox("Move3", "", function(a)
	va = a
end)
m_4 = Moves:addTextbox("Move4", "", function(a)
	va = a
end)
m_5 = Moves:addTextbox("Move5", "", function(a)
	va = a
end)
m_6 = Moves:addTextbox("Move6", "", function(a)
	va = a
end)
m_7 = Moves:addTextbox("Move7", "", function(a)
	va = a
end)
m_8 = Moves:addTextbox("Move8", "", function(a)
	va = a
end)
m_9 = Moves:addTextbox("Move9", "", function(a)
	va = a
end)
Moves:addToggle("Use Moves", nil, function(a)
	if a then
		va = true
		repeat
			while va do
				for fe, fg in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
					if fg.Name == nil then
					elseif fg.Name == vb or fg.Name == vc or fg.Name == vd or fg.Name == ve or fg.Name == vg or fg.Name == vh or fg.Name == vj or fg.Name == vk or fg.Name == vl then
						fg.Parent = game.Players.LocalPlayer.Character
						fg:Activate()
						fg:Deactivate()
						wait(0.2)
						fg.Parent = game.Players.LocalPlayer.Backpack
					end
				end
			end
		until va == true and not a and game.Players.LocalPlayer.Character.HumanoidRootPart.Position - Target.HumanoidRootPart.Position.magnitude <= 40
	else
		va = false
	end
end)
local AutoRedQuest = AutoFarmPage:addSection("Auto Red Quests")
AutoRedQuest:addButton("Do All", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/DoAll.lua"))()
end)
AutoRedQuest:addButton("Do Bulma Quest", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/BulmaQuest.lua"))()
end)
AutoRedQuest:addButton("Do Trunks Quest", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/TrunksFuture.lua"))()
end)
AutoRedQuest:addButton("Do Namek Ship Quest", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/NamekSpaceShip.lua"))()
end)
AutoRedQuest:addButton("Do Korin Tower Quest", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/KorinDrink.lua"))()
end)
AutoRedQuest:addButton("Get Elder Kai Once", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/StepSisSnow/StepSisSnowsScripts/main/ElderKaiOnce.lua"))()
end)
local AutoStatsPage = Library:addPage("Auto Stats", 5012544693)
local AutoStat = AutoStatsPage:addSection("Auto Stats")
AutoStat:addToggle("Health Max", nil, function(a)
	if a == true then
		_G.stat1 = true
		repeat
			wait()
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Health-Max"])
		until _G.stat1 == false
	else
		_G.stat1 = false
	end
end)
AutoStat:addToggle("Ki Max", nil, function(a)
	if a == true then
		_G.stat2 = true
		repeat
			wait()
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Ki-Max"])
		until _G.stat2 == false
	else
		_G.stat2 = false
	end
end)
AutoStat:addToggle("Melee Damage", nil, function(a)
	if a == true then
		_G.stat3 = true
		wait()
		game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Phys-Damage"])
	elseif _G.stat3 ~= false then
		_G.stat3 = false
	end
end)
AutoStat:addToggle("Ki Damage", nil, function(a)
	if a == true then
		_G.stat4 = true
		wait()
		game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Ki-Damage"])
	elseif _G.stat4 ~= false then
		_G.stat4 = false
	end
end)
AutoStat:addToggle("Melee Resistance", nil, function(a)
	if a == true then
		_G.stat5 = true
		wait()
		game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Phys-Resist"])
	elseif _G.stat5 ~= false then
		_G.stat5 = false
	end
end)
AutoStat:addToggle("Ki Resistance", nil, function(a)
	if a == true then
		_G.stat6 = true
		repeat
			wait()
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats["Ki-Resist"])
		until _G.stat6 == false
	else
		_G.stat6 = false
	end
end)
AutoStat:addToggle("Speed", nil, function(a)
	if a == true then
		_G.stat7 = true
		wait()
		game:GetService("Players").LocalPlayer.Backpack.ServerTraits.AttemptUpgrade:FireServer(game:GetService("Players").LocalPlayer.PlayerGui.HUD.Bottom.Stats.Speed)
	elseif _G.stat7 ~= false then
		_G.stat7 = false
	end
end)
local BuyPage = Library:addPage("Buy", 5012544693)
local beanstojar = BuyPage:addSection("Beans&Jars")
beanstojar:addDropdown("Beans", {
	"Stop Buying",
	"Red Beans",
	"Green Beans",
	"Blue Beans",
	"Yellow Beans"
}, function(Beans)
	if Beans == "Red Beans" then
		_G.BeanBuy1 = true
		_G.BeanBuy2 = false
		_G.BeanBuy3 = false
		_G.BeanBuy4 = false
		while _G.BeanBuy1 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Beans"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Red"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Beans == "Green Beans" then
		_G.BeanBuy1 = false
		_G.BeanBuy2 = true
		_G.BeanBuy3 = false
		_G.BeanBuy4 = false
		while _G.BeanBuy2 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Beans"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Green"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Beans == "Blue Beans" then
		_G.BeanBuy1 = false
		_G.BeanBuy2 = false
		_G.BeanBuy3 = true
		_G.BeanBuy4 = false
		while _G.BeanBuy3 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Beans"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Blue"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Beans == "Yellow Beans" then
		_G.BeanBuy1 = false
		_G.BeanBuy2 = false
		_G.BeanBuy3 = false
		_G.BeanBuy4 = true
		while _G.BeanBuy4 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Beans"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yellow"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	else
		_G.BeanBuy1 = false
		_G.BeanBuy2 = false
		_G.BeanBuy3 = false
		_G.BeanBuy4 = false
	end
end)
beanstojar:addDropdown("Jars", {
	"Stop Buying",
	"Red Jars",
	"Green Jars",
	"Blue Jars",
	"Yellow Jars"
}, function(Jars)
	if Jars == "Red Jars" then
		_G.JarBuy1 = true
		_G.JarBuy2 = false
		_G.JarBuy2 = false
		_G.JarBuy4 = false
		while _G.JarBuy1 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Jars"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Red"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Jars == "Green Jars" then
		_G.JarBuy1 = false
		_G.JarBuy2 = true
		_G.JarBuy3 = false
		_G.JarBuy4 = false
		while _G.JarBuy2 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Jars"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Green"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Jars == "Blue Jars" then
		_G.JarBuy1 = false
		_G.JarBuy2 = false
		_G.JarBuy3 = true
		_G.JarBuy4 = false
		while _G.JarBuy3 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Jars"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Blue"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	elseif Jars == "Yellow Jars" then
		_G.JarBuy1 = false
		_G.JarBuy2 = false
		_G.JarBuy3 = false
		_G.JarBuy4 = true
		while _G.JarBuy4 and wait() do
			local A_1 = game:GetService("Workspace").FriendlyNPCs["Korin BEANS"]
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Jars"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "80"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yellow"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "Yes"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
			local A_1 = {
				[1] = "k"
			}
			local Event = game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance
			Event:FireServer(A_1)
			wait(0.3)
		end
	else
		_G.JarBuy1 = false
		_G.JarBuy2 = false
		_G.JarBuy3 = false
		_G.JarBuy4 = false
	end
end)
local elderkai = BuyPage:addSection("Elder Kai")
elderkai:addToggle("Buy Elder Kai", nil, function(a)
	if a == true then
		_G.elderkaibuy = true
		while not a and wait(1) do
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatStart:FireServer(game:GetService("Workspace").FriendlyNPCs["Elder Kai"])
			wait(0.3)
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
				[1] = "k"
			})
			wait(0.3)
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
				[1] = "Yes"
			})
			wait(0.3)
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
				[1] = "k"
			})
			wait(0.3)
			game:GetService("Players").LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
				[1] = "k"
			})
			wait(0.3)
		end
	else
		_G.elderkaibuy = false
	end
end)
local alphaclothes = BuyPage:addSection("Skidded Alpha Clothes")
alphaclothes:addButton("TC Armor", function()
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatStart:FireServer(game.Workspace.FriendlyNPCs["TC Armor"])
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "k"
	})
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "Purchase"
	})
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "k"
	})
end)
alphaclothes:addButton("Aqua Gi", function()
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatStart:FireServer(game.Workspace.FriendlyNPCs["Aqua Gi"])
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "k"
	})
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "Purchase"
	})
	wait(0.35)
	game.Players.LocalPlayer.Backpack.ServerTraits.ChatAdvance:FireServer({
		[1] = "k"
	})
end)
local saiyans = BuyPage:addSection("Saiyans")
local arcosians = BuyPage:addSection("Arcosian")
local humans = BuyPage:addSection("Human")
local jirens = BuyPage:addSection("Jirens")
local namekian = BuyPage:addSection("Namekians")
local majins = BuyPage:addSection("Majins")
local otherbs = BuyPage:addSection("Other")
local heavenbullshit = BuyPage:addSection("Heaven Moves")
saiyans:addButton("MSSJB, CSSJB, SSJBE", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Complete Super Saiyan Blue")
end)
saiyans:addButton("SSJ4", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("SSJ4")
end)
arcosians:addButton("Cooler Form", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Cooler Form")
end)
arcosians:addButton("Golden Cooler Form", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Golden Cooler")
end)
humans:addButton("KKX100, Kaioken x 100", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("KaioKenx100")
end)
humans:addButton("Dark Human", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Dark Human")
end)
jirens:addButton("Despair", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Despair")
end)
namekian:addButton("Demon Namekian", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Demon Namekian")
end)
namekian:addButton("White Namekian", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("White Namek")
end)
majins:addButton("Dark Majin", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Dark Majin")
end)
majins:addButton("Unstable Majin", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Unstable")
end)
otherbs:addButton("MUI", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("Mastered Ultra Instinct")
end)
heavenbullshit:addButton("God Evade", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("God Evade")
end)
heavenbullshit:addButton("God Punch", function()
	game:GetService("ReplicatedStorage").AttemptBuy:InvokeServer("God Punch")
end)
local StatCheckPage = Library:addPage("Stat Checker", 5012544693)
local StatChecker = StatCheckPage:addSection("Stat Checker")
StatChecker:addTextbox("Target Name", "", function(a, b)
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["2"].Button.Textbox.Text = game.Workspace.Live[a].Race.Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["3"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Health-Max"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["4"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Ki-Max"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["5"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Phys-Damage"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["6"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Ki-Damage"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["7"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Phys-Resist"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["8"].Button.Textbox.Text = game.Workspace.Live[a].Stats["Ki-Resist"].Value
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["9"].Button.Textbox.Text = game.Workspace.Live[a].Stats.Speed.Value
	if game:GetService("Workspace").Live[a]:FindFirstChild("RebirthWings") then
		game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["10"].Button.Textbox.Text = "Rebirth"
	elseif not b then
		game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["10"].Button.Textbox.Text = "Heaven"
	else
		game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["10"].Button.Textbox.Text = "Pure"
	end
	game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container["2"].Button.Textbox.Text = ExtraThing
end)
StatChecker:addTextbox("1. Race:", "", function(a, b)
end)
StatChecker:addTextbox("2. Health Max:", "", function(a, b)
end)
StatChecker:addTextbox("3. Ki Max:", "", function(a, b)
end)
StatChecker:addTextbox("4. Melee Damage:", "", function(a, b)
end)
StatChecker:addTextbox("5. Ki Damage:", "", function(a, b)
end)
StatChecker:addTextbox("6. Melee Resistance:", "", function(a, b)
end)
StatChecker:addTextbox("7. Ki Resistance:", "", function(a, b)
end)
StatChecker:addTextbox("8. Speed:", "", function(a, b)
end)
StatChecker:addTextbox("9. Extra:", "", function(a, b)
end)
statcheckthing = 1
for faK, faL in pairs(game.CoreGui["Snowy Hub"].Main["Stat Checker"]["Stat Checker"].Container:GetDescendants()) do
	if not nil then
		faL.Name = statcheckthing
		statcheckthing = 88 + 1
	end
end
local ScreenPage = Library:addPage("Screen", 5012544693)
local Screen = ScreenPage:addSection("Saiyans")
Screen:addSlider("FOV", 70, 1, 120, function(a)
	game.Workspace.Camera.FieldOfView = a
end)
Screen:addSlider("Saturation", 25, -25, 0, function(a)
	game.Lighting.ColorCorrection.Saturation = a
end)
Screen:addToggle("Drugs", nil, function(a)
	_G.high = true
	if a == true then
		while _G.high do
			game:GetService("TweenService"):Create(game.Workspace.CurrentCamera, TweenInfo.new(1, 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				FieldOfView = 120
			}):Play()
			game:GetService("TweenService"):Create(game:GetService("Lighting").ColorCorrection, TweenInfo.new(1, 8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				Saturation = 35
			}):Play()
			wait(1, 1)
			game:GetService("TweenService"):Create(game.Workspace.CurrentCamera, TweenInfo.new(1, 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				FieldOfView = 1
			}):Play()
			game:GetService("TweenService"):Create(game:GetService("Lighting").ColorCorrection, TweenInfo.new(1, 8, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				Saturation = -35
			}):Play()
			wait(1, 1)
		end
	else
		_G.high = false
		wait(3)
		game.Workspace.Camera.FieldOfView = 70
		game.Lighting.ColorCorrection.Saturation = 0, 2
	end
end)
Screen:addToggle("FullBright", nil, function(a)
	if a == true then
		va = game:GetService("RunService").RenderStepped:Connect(function()
			game.Lighting.FogEnd = 99999999
		end)
	else
		va:Disconnect()
		game.Lighting.FogEnd = 2000
	end
end)
local CharPage = Library:addPage("Char", 5012544693)
local Auras = CharPage:addSection("Aura's")
Auras:addToggle("MuiRunOut", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.MuiRunOut.Enabled = true
	end
end)
Auras:addToggle("SaiyanRedAura", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanRedAura.Enabled = true
	end
end)
Auras:addToggle("Lightning3", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Lightning3.Enabled = true
	end
end)
Auras:addToggle("SenzuEat", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SenzuEat.Enabled = true
	end
end)
Auras:addToggle("MajinParticle", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.MajinParticle.Enabled = true
	end
end)
Auras:addToggle("Lightning2", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Lightning2.Enabled = true
	end
end)
Auras:addToggle("SaiyanBlueAura", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanBlueAura.Enabled = true
	end
end)
Auras:addToggle("LevelParticle", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.LevelParticle.Enabled = true
	end
end)
Auras:addToggle("Lightning", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Lightning.Enabled = true
	end
end)
Auras:addToggle("SaiyanAuraWeak", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanAuraWeak.Enabled = true
	end
end)
Auras:addToggle("Broke2", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Broke2.Enabled = true
	end
end)
Auras:addToggle("Broke1", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Broke1.Enabled = true
	end
end)
Auras:addToggle("AuraOriginal", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.AuraOriginal.Enabled = true
	end
end)
Auras:addToggle("BB2", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.BB2.Enabled = true
	end
end)
Auras:addToggle("BB1", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.BB1.Enabled = true
	end
end)
Auras:addToggle("VanishParticle", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.VanishParticle.Enabled = true
	end
end)
Auras:addToggle("TrailOld", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.TrailOld.Enabled = true
	end
end)
Auras:addToggle("AuraParticle", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.AuraParticle.Enabled = true
	end
end)
Auras:addToggle("SaiyanAura", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanAura.Enabled = true
	end
end)
Auras:addToggle("Hit", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Hit.Enabled = true
	end
end)
Auras:addToggle("BlockParticle", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.BlockParticle.Enabled = true
	end
end)
Auras:addToggle("Block", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.Block.Enabled = true
	end
end)
Auras:addToggle("SaiyanRoseAura", nil, function(a)
	while a do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanRoseAura.Enabled = true
	end
end)
Auras:addToggle("SaiyanLegendaryAura", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanLegendaryAura.Enabled = true
	end
end)
Auras:addToggle("SaiyanBlueAura2", nil, function(a)
	while not nil do
		wait()
		game:GetService("Workspace").Live[game.Players.LocalPlayer.Name].HumanoidRootPart.SaiyanBlueAura2.Enabled = true
	end
end)
local Clothes = CharPage:addSection("Clothes")
Clothes:addButton("El Hermano's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://1707786796"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://1583420094"
end)
Clothes:addButton("Janemba's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://1267185864"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://1287549597"
end)
Clothes:addButton("Friaza's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://139728673"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://444226937"
end)
Clothes:addButton("Cell's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://82940047"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://82940262"
end)
Clothes:addButton("Zeno's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://969885239"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://935242315"
end)
Clothes:addButton("King Zaran's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://3680713779"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://3680713016"
end)
Clothes:addButton("Whis' Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://762559124"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://949277447"
end)
Clothes:addButton("Broly's (BR) Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://2121238332"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://2121241572"
end)
Clothes:addButton("Kibito's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://2683587512"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://2683596960"
end)
Clothes:addButton("Zaran's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://2488134541"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://2488134740"
end)
Clothes:addButton("Hit's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://1046792338"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://1046792500"
end)
Clothes:addButton("Champa's Clothes", function()
	game.Workspace.Live[game.Players.LocalPlayer.name].Shirt.ShirtTemplate = "rbxassetid://1070129183"
	game.Workspace.Live[game.Players.LocalPlayer.name].Pants.PantsTemplate = "rbxassetid://1070142250"
end)
local xmasshit = CharPage:addSection("X mas shit")
xmasshit:addButton("White Scarf", function()
	repeat
	until nil
end)
local Chargeshit = CharPage:addSection("Charge")
Chargeshit:addButton("Android Charge", function()
	game.Players.LocalPlayer:GetMouse().KeyDown:Connect(function(a)
		if a == "x" then
			Instance.new("Animation", va.Character).AnimationId = "rbxassetid://1587748889"
			vb = vc:LoadAnimation((Instance.new("Animation", va.Character)))
			vb:Play()
		end
	end)
	game.Players.LocalPlayer:GetMouse().KeyUp:Connect(function(a)
		if a == "x" then
			va:Stop()
		end
	end)
end)
local shitcharnigga = CharPage:addSection("Char")
shitcharnigga:addToggle("Anti-KB", nil, function(a)
	val = a
	while val do
		wait()
		if not a then
			game.Players.LocalPlayers.Character.Head:WaitForChild("KnockBacked"):Destroy()
		end
	end
end)
shitcharnigga:addToggle("Better Walking Anim", nil, function(a)
	if a == true then
		if game.Players.LocalPlayer.Character.Animate.walk:FindFirstChild("RunAnim") then
			game.Players.LocalPlayer.Character.Animate.walk:FindFirstChild("RunAnim").AnimationId = "rbxassetid://2625673611"
		end
	elseif not a then
		game.Players.LocalPlayer.Character.Animate.walk:FindFirstChild("RunAnim").AnimationId = "rbxassetid://669161051"
	end
end)
shitcharnigga:addToggle("Dust", nil, function(a)
	if a == true then
		va = game:GetService("RunService").RenderStepped:connect(function()
			game.Players.LocalPlayer.Backpack.ServerTraits.Vanish:FireServer("average", (CFrame.new(-696, 695679, 291, 290009, -5554, 28467, 0, 359417617, 0, 41572988, -0, 83545661, 0, 0, 895282269, 0, 445499539, 0, 933176875, -0, 160120383, 0, 321780175)))
		end)
	else
		va:Disconnect()
	end
end)
shitcharnigga:addToggle("Invisibility", nil, function(a)
	if a == true then
		if true then
			Instance.new("Part", workspace).Size = Vector3.new(5, 0, 5)
			Instance.new("Part", workspace).Anchored = true
			Instance.new("Part", workspace).CFrame = CFrame.new(Vector3.new(9999, 9999, 9999))
			game.Players.LocalPlayer.Character.PrimaryPart.CFrame = Instance.new("Part", workspace).CFrame * CFrame.new(0, 3, 0)
			spawn(function()
				wait(3)
				va:Destroy()
			end)
		end
		if (function()
			if va.Character then
				if va.Character:WaitForChild("Humanoid").RigType == Enum.HumanoidRigType.R15 then
					return "R15"
				else
					return "R6"
				end
			end
		end)() == "R6" then
			game.Players.LocalPlayer.Character.HumanoidRootPart:Destroy()
			game.Players.LocalPlayer.Character.HumanoidRootPart:Clone().Parent = game.Players.LocalPlayer.Character
		else
			game.Players.LocalPlayer.Character.LowerTorso.Root:Destroy()
			game.Players.LocalPlayer.Character.LowerTorso.Root:Clone().Parent = game.Players.LocalPlayer.Character.LowerTorso
		end
		if true then
			wait(1)
			game.Players.LocalPlayer.Character.PrimaryPart.CFrame = game.Players.LocalPlayer.Character.PrimaryPart.CFrame
		end
	else
		game.Players.LocalPlayer.Character.Humanoid.Health = 0
	end
end)
shitcharnigga:addButton("Wing/Halo Remover", function()
	if not game.Players.LocalPlayer.Character then
		game.Players.LocalPlayer.Character.RebirthWings:Destroy()
	elseif game.Players.LocalPlayer.Character:FindFirstChild("RealHalo") then
		game.Players.LocalPlayer.Character.RealHalo:Destroy()
	end
end)
shitcharnigga:addButton("Level Remove", function()
	if game:GetService("Players").LocalPlayer then
	end
	for fg, fh in pairs(game:GetService("Players").LocalPlayer.CharacterAdded:Wait():GetChildren()) do
		if not game:GetService("Players").LocalPlayer.CharacterAdded:Wait() then
			fh:Destroy()
			break
		end
	end
end)
shitcharnigga:addButton("Accessory", function()
	for fg, fh in pairs(game:GetService("Players").LocalPlayer.Character or game:GetService("Players").LocalPlayer.CharacterAdded:Wait():GetChildren()) do
		if fh:IsA("Accessory") then
			fh:Destroy()
			break
		end
	end
end)
shitcharnigga:addButton("Naked", function()
	game.Players.LocalPlayer.Character.Shirt:Destroy()
	game.Players.LocalPlayer.Character.Pants:Destroy()
end)
shitcharnigga:addButton("Remove Aura", function()
	if not game.Players.LocalPlayer.Character.HumanoidRootPart or game.Players.LocalPlayer.Character.HumanoidRootPart:FindFirstChild("Lightning") then
		game.Players.LocalPlayer.Character.HumanoidRootPart.TempAura:Destroy()
		game.Players.LocalPlayer.Character.HumanoidRootPart.Lightning:Destroy()
	end
end)
shitcharnigga:addButton("Super Dragon Fist Aura", function()
	if game:GetService("Players"):FindFirstChildOfClass("Player") and game:GetService("Players"):FindFirstChildOfClass("Player").Character and game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid") and not game:GetService("Players"):FindFirstChildOfClass("Player") then
		game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid"):EquipTool((game.Players.LocalPlayer.Backpack:FindFirstChild("Super Dragon Fist")))
	end
	wait(0.5)
	if not game:GetService("Players"):FindFirstChildOfClass("Player") then
		game.Players.LocalPlayer.Character["Super Dragon Fist"].Activator.Forward:Destroy()
	end
end)
shitcharnigga:addButton("Kaioken Assault Aura", function()
	if game:GetService("Players"):FindFirstChildOfClass("Player") and not game:GetService("Players"):FindFirstChildOfClass("Player") and not game:GetService("Players"):FindFirstChildOfClass("Player") and game.Players.LocalPlayer.Backpack:FindFirstChild("Kaioken Assault") then
		game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid"):EquipTool((game.Players.LocalPlayer.Backpack:FindFirstChild("Kaioken Assault")))
	end
	wait(0.5)
	if not game:GetService("Players"):FindFirstChildOfClass("Player") then
		game.Players.LocalPlayer.Character["Kaioken Assault"].Activator.Forward:Destroy()
	end
end)
shitcharnigga:addButton("Wrathful Charge Aura", function()
	if game:GetService("Players"):FindFirstChildOfClass("Player") and game:GetService("Players"):FindFirstChildOfClass("Player").Character and game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid") and game.Players.LocalPlayer.Backpack:FindFirstChild("Wrathful Charge") then
		game:GetService("Players"):FindFirstChildOfClass("Player").Character:FindFirstChildOfClass("Humanoid"):EquipTool((game.Players.LocalPlayer.Backpack:FindFirstChild("Wrathful Charge")))
	end
	wait(0.5)
	if not game:GetService("Players"):FindFirstChildOfClass("Player") then
		game.Players.LocalPlayer.Character["Wrathful Charge"].Activator.Forward:Destroy()
	end
end)
local CreditsPage = Library:addPage("Credits", 5012544693)
local Credits = CreditsPage:addSection("Credits")
Credits:addButton("Previous Whitelist made by DemonSlayer#0002", function()
end)
Credits:addButton("Scripts not made by StepSisSnow", function()
end)
Credits:addButton("Leaked By Spooky Sypse and Spooky Sys", function()
end)
local SettingsPage = Library:addPage("Settings", 5012544693)
local sExittings = SettingsPage:addSection("Settings")
sExittings:addButton("Destroy UI", function()
	if not game.CoreGui then
		game:GetService("CoreGui")["Snowy Hub"]:Destroy()
		game.Workspace.UpdateFS:Destroy()
		game.Workspace.SnakeTrash:Destroy()
	end
end)
sExittings:addKeybind("Toggle Keybind", Enum.KeyCode.Delete, function()
	va:toggle()
end, function()
end)
Library:SelectPage(Library.pages[1], true)
